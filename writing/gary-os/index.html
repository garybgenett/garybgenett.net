<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Gary B. Genett</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v4.0 (Kernel) (Grub) (Packages) (Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://source">
<meta property="og:type" content="website">
<meta property="og:title" content="Gary B. Genett">
<meta property="og:url" content="http://www.garybgenett.net/writing/gary-os/index.html">
<meta property="og:site_name" content="Gary B. Genett">
<meta property="og:description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v4.0 (Kernel) (Grub) (Packages) (Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://source">
<meta property="og:image" content="http://www.garybgenett.net/projects/gary-os/images/icon.png">
<meta property="og:image" content="http://www.garybgenett.net/projects/gary-os/images/screenshot_cli.png">
<meta property="og:image" content="http://www.garybgenett.net/projects/gary-os/images/screenshot_gui.png">
<meta property="og:image" content="http://www.garybgenett.net/projects/gary-os/archive/gentoo-18_01_svg.png">
<meta property="og:updated_time" content="2019-11-13T21:48:27.917Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gary B. Genett">
<meta name="twitter:description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v4.0 (Kernel) (Grub) (Packages) (Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://source">
  
    <link rel="alternate" href="/atom.xml" title="Gary B. Genett" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '[object Object]', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Gary B. Genett</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/resume.html">Resume</a>
        
          <a class="main-nav-link" href="/projects">Projects</a>
        
          <a class="main-nav-link" href="/writing">Writing</a>
        
          <a class="main-nav-link" href="/archives">History</a>
        
      </nav>
      <nav id="sub-nav"> <a id="nav-facebook-link" class="nav-icon" href="https://www.facebook.com/gary.b.genett" target="_blank"></a> <a id="nav-linkedin-link" class="nav-icon" href="https://www.linkedin.com/in/gary-b-genett" target="_blank"></a>  <a id="nav-github-link" class="nav-icon" href="https://github.com/garybgenett" target="_blank"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <script>function search_submit() { window.location.href = "https://duckduckgo.com?kp=-1&kz=-1&kv=1&kae=d&ko=1&q=site:http://www.garybgenett.net " + document.search_form.q.value; }</script><form action="javascript:search_submit();" name="search_form" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/writing/gary-os/index.html" class="article-date">
  <time datetime="2019-11-13T21:48:30.653Z" itemprop="datePublished">2019-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Welcome_to_GaryOS__28gary-os_29"><a href="#Welcome_to_GaryOS__28gary-os_29" class="headerlink" title="Welcome to GaryOS (gary-os)"></a>Welcome to GaryOS (gary-os)</h1><hr>
<p><img src="/projects/gary-os/images/icon.png" alt="GaryOS Icon" title="GaryOS Icon"><br>“The one file that does it all.”</p>
<ul>
<li>Latest: GaryOS v4.0 (<a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.kernel" target="_blank" rel="external">Kernel</a>) (<a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.grub.zip" target="_blank" rel="external">Grub</a>) (<a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.packages.txt" target="_blank" rel="external">Packages</a>) (<a href="#Notes">Notes</a>) (<a href="https://github.com/garybgenett/gary-os/blob/master/LICENSE.md" target="_blank" rel="external">License</a>)</li>
<li>Homepage: <a href="https://github.com/garybgenett/gary-os" target="_blank" rel="external">https://github.com/garybgenett/gary-os</a></li>
<li>Download: <a href="https://sourceforge.net/projects/gary-os" target="_blank" rel="external">https://sourceforge.net/projects/gary-os</a></li>
</ul>
<hr>
<ul>
<li><a href="#Introduction">Introduction</a><ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#Release">Release</a>: <a href="#Quick_Start">Quick Start</a>, <a href="#Requirements">Requirements</a>, <a href="#Contact_+_Support">Contact + Support</a></li>
<li><a href="#Project">Project</a>: <a href="#Acknowledgements_+_Reviews">Acknowledgements + Reviews</a>, <a href="#Contributions">Contributions</a>, <a href="#Contributing">Contributing</a>, <a href="#Licensing_+_Disclaimer">Licensing + Disclaimer</a></li>
</ul>
</li>
<li><a href="#Information">Information</a><ul>
<li><a href="#Design">Design</a>: <a href="#Goals">Goals</a>, <a href="#Advantages">Advantages</a>, <a href="#Limitations">Limitations</a>, <a href="#History">History</a></li>
<li><a href="#Details">Details</a>: <a href="#Versioning">Versioning</a>, <a href="#Structure">Structure</a>, <a href="#Tools">Tools</a>, <a href="#Ecosystem">Ecosystem</a></li>
</ul>
</li>
<li><a href="#Instructions">Instructions</a><ul>
<li><a href="#Booting">Booting</a>: [USB Drive + Grub Rescue], <a href="#Windows_Dual-Boot">Windows Dual-Boot</a>, <a href="#PXE_Boot">PXE Boot</a></li>
<li><a href="#Running">Running</a>: <a href="#Forensics_+_Recovery">Forensics + Recovery</a>, <a href="#Networking_Configuration">Networking Configuration</a>, <a href="#Graphical_Interface">Graphical Interface</a></li>
<li><a href="#Building">Building</a>: <a href="#Live_Update">Live Update</a>, <a href="#Custom_Builds">Custom Builds</a>, <a href="#Hard_Drive_Install">Hard Drive Install</a></li>
</ul>
</li>
<li><a href="#Version_History">Version History</a><ul>
<li><a href="#2019-XX-XX_v4.0_776f16598dac814dee59f95a1e21cefe6c612a02.0">2019-XX-XX v4.0 776f16598dac814dee59f95a1e21cefe6c612a02.0</a></li>
<li><a href="#2015-03-16_v3.0_21811b59a8484b2a6b73e0c5277f23c50a0141dc.0">2015-03-16 v3.0 21811b59a8484b2a6b73e0c5277f23c50a0141dc.0</a></li>
<li><a href="#2014-06-19_v2.0_873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0">2014-06-19 v2.0 873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0</a></li>
<li><a href="#2014-03-13_v1.1_95ad4fd257697618bae7402d4bc3a27499035d30.4">2014-03-13 v1.1 95ad4fd257697618bae7402d4bc3a27499035d30.4</a></li>
<li><a href="#2014-02-28_v1.0_95ad4fd257697618bae7402d4bc3a27499035d30.3">2014-02-28 v1.0 95ad4fd257697618bae7402d4bc3a27499035d30.3</a></li>
<li><a href="#2014-02-24_v0.3_95ad4fd257697618bae7402d4bc3a27499035d30.2">2014-02-24 v0.3 95ad4fd257697618bae7402d4bc3a27499035d30.2</a></li>
<li><a href="#2014-02-13_v0.2_95ad4fd257697618bae7402d4bc3a27499035d30.1">2014-02-13 v0.2 95ad4fd257697618bae7402d4bc3a27499035d30.1</a></li>
<li><a href="#2014-02-09_v0.1_95ad4fd257697618bae7402d4bc3a27499035d30.0">2014-02-09 v0.1 95ad4fd257697618bae7402d4bc3a27499035d30.0</a></li>
</ul>
</li>
<li>[Release Process + Checklist]</li>
</ul>
<hr>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>GaryOS is an entire GNU/Linux system in a single bootable file.  It is also<br>a build system to produce both the bootable file and entire installations.</p>
<p>The booted system consists of a Linux kernel and a Funtoo (based on Gentoo)<br>initramfs.  It is generated using a customized Portage configuration with<br>a modified Linux kernel configuration (based on the latest Grml default).  The<br>included build system is entirely specialized for the task.  GaryOS can build<br>itself from within itself.</p>
<p>There are no major projects which take this same approach on this scale.  The<br>result is a self-contained file that is more flexible and capable than other<br>live systems.</p>
<p>Primary features:</p>
<ul>
<li>Comprehensive: complete and optimized Funtoo system with GNU toolchain</li>
<li>Invisible: resides completely in memory and does not need media after boot</li>
<li>Safe: no hard drives are mounted and swap is disabled</li>
<li>Flexible: can be used anywhere a Linux kernel can (USB, PXE, etc.)</li>
<li>Portable: small footprint can easily fit on any partition</li>
<li>Usable: upgrades are as simple as replacing the file</li>
<li>Adaptable: supports source-based package options and custom builds</li>
<li>Complete: bootloader and direct-to-disk install of a ready-to-use system</li>
<li>Fast: everything lives in memory, so all operations happen very rapidly</li>
</ul>
<p>The goal of GaryOS is to provide a single, simple file which can be<br>conveniently used for system rescue or installation, or as a temporary<br>workstation for productivity or learning.  In parallel with this is the<br>objective of maintaining a usable build system to create GaryOS or other custom<br>systems.</p>
<p><img src="/projects/gary-os/images/screenshot_cli.png" alt="GaryOS CLI Screenshot" title="GaryOS CLI Screenshot"></p>
<p><img src="/projects/gary-os/images/screenshot_gui.png" alt="GaryOS GUI Screenshot" title="GaryOS GUI Screenshot"></p>
<h2 id="Release"><a href="#Release" class="headerlink" title="Release"></a>Release</h2><h3 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h3><p>GaryOS releases are not stored in the Git repository, due to size.  The first<br>step is to download the latest <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.kernel" target="_blank" rel="external">Kernel</a>.</p>
<p>The simplest way to try GaryOS is using the <a href="https://qemu.org" target="_blank" rel="external">Qemu</a> virtual machine emulator,<br>which runs on all major platforms.  Once installed, you can boot GaryOS<br>directly using something like:</p>
<ul>
<li><code>qemu-system-x86_64 -m 4096 -kernel [...]/gary-os-[...].kernel</code></li>
</ul>
<p>To use it “for real”, follow the brief instructions in the [USB Drive + Grub<br>Rescue] or <a href="#Windows_Dual-Boot">Windows Dual-Boot</a> sections, depending on whether your current<br>platform is Linux or Windows.  Apple platforms are not supported.</p>
<p>For advanced users with an existing bootloader (such as Grub), you can add an<br>entry pointing to the file on disk.  In Grub, this looks something like:</p>
<ul>
<li><code>linux (hd0,1)/boot/gary-os-[...].kernel</code></li>
</ul>
<p>All the standard Linux kernel options/parameters are valid.  For example, the<br>amount of memory Linux allocates to itself can be specified as usual:</p>
<ul>
<li><code>linux (hd0,1)/boot/gary-os-[...].kernel mem=4096m</code></li>
</ul>
<p>Once booted, the entire system resides in memory, and any media used to boot it<br>is no longer necessary.</p>
<ul>
<li>Log in as <code>root</code> with password <code>gary-os</code>.</li>
</ul>
<p>After use, the system may simply be powered off.  There is no need to shutdown<br>GaryOS, since it will boot completely fresh from the file each time.</p>
<h3 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h3><p>A 64-bit x86 CPU is required.  GaryOS is not built for any other platforms.<br>Intel and AMD x86 processors are by far the most common for desktop and laptop<br>computers, which is what GaryOS was designed for.  Due to fundamental internal<br>hardware differences, and the lack of an available development system, Apple<br>platforms are not supported.</p>
<p>The booted system requires at least 4GB of RAM.  Some of the advanced features<br>and uses require additional memory, and 8GB is recommended.</p>
<p>The GaryOS kernel is roughly ~750MB in size, and at least 1GB of storage is<br>recommended.  All efforts have been made to make GaryOS as compact as possible,<br>but required Linux packages continue to grow over time, such as these:</p>
<ul>
<li>GCC</li>
<li>Linux firmware</li>
<li>Grub</li>
<li>Python (still needs both v2.x and v3.x for a complete system)</li>
<li>Glibc</li>
</ul>
<p>This list is not meant to be critical, and is only provided for transparency.<br>The work necessary to keep the distribution compact is ongoing.</p>
<p>Twice during boot, at initial kernel load and initramfs decompression, GaryOS<br>can appear to hang as the kernel and initramfs are loaded into memory.  This is<br>normal, and only takes a few moments each.  It uses the standard Linux<br>infrastructure which does not display any progress.  The actual boot time is<br>just as fast as other live systems, but the lack of output can be unnerving.<br>Thus, the final requirement is a tad bit of patience.</p>
<h3 id="Contact_+_Support"><a href="#Contact_+_Support" class="headerlink" title="Contact + Support"></a>Contact + Support</h3><p><a href="http://www.garybgenett.net/resume.html">Gary B. Genett</a> is the sole developer and maintainer of GaryOS.  It is<br>a personal project with aspirations of recognition as an actual distribution,<br>however misguided.</p>
<p>There is no documentation other than this file and the usage output of the<br>build scripts.  The uses outlined in the <a href="#Instructions">Instructions</a> section are the<br>official “happy paths”, and are tested and supported.</p>
<p>Typing <code>make</code> or <code>make usage</code> will display the supported uses of the build<br>system.  Advanced uses are documented with <code>make help</code>, and are also supported<br>(but should only be used by those who know what they are doing).  When<br>reporting issues with the build system, please include the <code>_gentoo.log</code> file<br>from the <code>build</code> directory.</p>
<p>While there appears to be some adoption of GaryOS, it is not yet enough to<br>warrant a formal issue tracker.  For any issues, please contact the author<br>directly at: <a href="mailto:gary-os@garybgenett.net?subject=GaryOS%20Submission+body=Why%20I%20love%20GaryOS%20so%20much..." target="_blank" rel="external">gary-os@garybgenett.net</a></p>
<p>GaryOS is very flexible, and both the kernel and build system can be used for<br>a wide range of applications.  Other uses of all the GaryOS tooling are<br>encouraged, and the author would be glad to hear about any unique or creative<br>ways they are employed.  For some ideas, check out the<br>“<a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets/_gary-os" target="_blank" rel="external">gentoo/sets/_gary-os</a>“ package set, which outlines some of the author’s<br>personal uses along with the steps used to test and validate GaryOS each<br>release.</p>
<p>The author will also take you out on the town if you schedule time to geek out<br>with him in the Seattle area.</p>
<h2 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h2><h3 id="Acknowledgements_+_Reviews"><a href="#Acknowledgements_+_Reviews" class="headerlink" title="Acknowledgements + Reviews"></a>Acknowledgements + Reviews</h3><p>GaryOS has maintained a <a href="https://sourceforge.net/projects/gary-os/files/stats/timeline?dates=2014-02-28+to+2038-01-19" target="_blank" rel="external">steady stream of overall downloads</a> since its<br>inception in 2014.  Activity is concentrated in the U.S. and Europe, but there<br>is clearly a worldwide audience, with interest coming from <a href="https://sourceforge.net/projects/gary-os/files/stats/map?dates=2014-02-28+to+2038-01-19" target="_blank" rel="external">countries all over<br>the world</a>.  Current <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.kernel/stats/timeline?dates=2014-02-28+to+2038-01-19" target="_blank" rel="external">v4.0 downloads</a> are being tracked since <a href="#v4.0">v4.0</a> was<br>released in October 2019.  As of September 2019, GaryOS maintained an average<br>of 10-15 <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v3.0.kernel/stats/timeline?dates=2014-02-28+to+2038-01-19" target="_blank" rel="external">v3.0 downloads</a> a month since the <a href="#v3.0">v3.0</a> release in March 2015.<br>There are notable spikes in the overall downloads of ~2K, ~0.6K and ~1.5K in<br>March 2018, January 2019 and September 2019, respectively, which were most<br>likely fetches of supporting files.  The SourceForge statistics are not<br>granular enough to investigate.</p>
<p>Despite the relatively small user base, modest infrastructure, and infrequent<br>release schedule, GaryOS has managed to receive some official acknowledgment.<br>Most notably, it has been included in the <a href="https://github.com/gentoo/gentoo-ecosystem" target="_blank" rel="external">Gentoo family tree</a> and listed on<br>the <a href="https://funtoo.org/Gentoo_Ecosystem" target="_blank" rel="external">Funtoo ecosystem page</a>.</p>
<p><img src="/projects/gary-os/archive/gentoo-18_01_svg.png" alt="Gentoo Ecosystem" title="Gentoo Ecosystem"><br><em>Source: <a href="https://github.com/gentoo/gentoo-ecosystem/blob/master/gentoo-18.01.svg" target="_blank" rel="external">https://github.com/gentoo/gentoo-ecosystem/blob/master/gentoo-18.01.svg</a></em></p>
<p>No entries in the <a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions" target="_blank" rel="external">Wikipedia list of Linux distributions</a> or on <a href="https://distrowatch.com/table.php?distribution=funtoo" target="_blank" rel="external">DistroWatch</a> yet…</p>
<p>There is a <a href="https://linux.softpedia.com/get/Linux-Distributions/GaryOS-103629.shtml" target="_blank" rel="external">Softpedia review</a> of <a href="#v3.0">v3.0</a> from a few years ago (written the day<br>after it was released), which is interesting because they took the time to boot<br>it up and play with it, and make some comments of their own beyond doing<br>a copy/paste of the README text.</p>
<p>An <a href="https://duckduckgo.com/?q=GaryOS" target="_blank" rel="external">Internet search for “GaryOS”</a> yields a few more random mentions.  It is on<br>the <a href="https://en.wikipedia.org/wiki/Gentoo_Linux#Derived_distributions" target="_blank" rel="external">Wikipedia list of Gentoo-derived distributions</a>.  By virtue of being based<br>on Gentoo/Funtoo, it proudly makes the list of <a href="https://sysdfree.wordpress.com/2019/03/09/135" target="_blank" rel="external">non-systemd distributions</a>.</p>
<p>An extremely random find is a <a href="https://forums.yogstation.net/index.php?threads/garys-guide-to-ntscript.14759" target="_blank" rel="external">guide to ntscript tutorial</a> which uses “GaryOS”<br>in the examples, based on that author’s name.  While entertaining, there are<br>some very disagreeable comments made in that article.  It is only mentioned<br>here to make a clear statement on it if anyone else comes across it.</p>
<p>Snapshots of all discovered references to GaryOS are kept in the<br>“<a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/archive" target="_blank" rel="external">artifacts/archive</a>“ directory.  Please use <a href="#Contact_+_Support">Contact + Support</a> to notify the<br>author of any other acknowledgements you may find, including you having read<br>this far.</p>
<!-- http://without-systemd.org/wiki/index.php/Linux_distributions_without_systemd/unlisted -->
<h3 id="Contributions"><a href="#Contributions" class="headerlink" title="Contributions"></a>Contributions</h3><p>As much as possible, and in addition to GaryOS itself, this project tries to<br>give back to the community in whatever ways it can.  So far, this has<br>manifested as a few tiny patches to upstream projects.</p>
<p><strong>Linux Initramfs</strong></p>
<p>The “shmem” subsystem in the Linux kernel is what manages the “tmpfs”<br>infrastructure used for in-memory filesystems, including initramfs.  Initial<br>creation of the shmem filesystem reserves half of the available memory.  On<br>a 4GB system, this is not enough room for GaryOS to boot.  In the <a href="https://github.com/garybgenett/gary-os/commits/master/gentoo/_release" target="_blank" rel="external">early<br>history of the “gentoo/_release” script</a>, there was a minor hack to the kernel<br>source to make this work the way that was needed.  For the completion of the<br><a href="#v4.0">v4.0</a> release, this was formalized as a kernel patch which also added<br>a configuration option and a boot parameter.  This was submitted to the Linux<br>“mm” development team in the following mailing list threads:</p>
<ul>
<li><a href="https://marc.info/?l=linux-mm+m=157048756423988" target="_blank" rel="external">Initial complete patch</a> – <a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/shmem-add-shmem_size-option-set-filesystem-size.v5.4-rc2.patch" target="_blank" rel="external">shmem-add-shmem_size-option-set-filesystem-size.v5.4-rc2.patch</a></li>
<li><a href="https://marc.info/?l=linux-mm+m=157056583814243" target="_blank" rel="external">Secondary patch, configuration option only</a> – <a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/shmem-add-shmem_size-option-for-full-filesystem.v5.4-rc2.patch" target="_blank" rel="external">shmem-add-shmem_size-option-for-full-filesystem.v5.4-rc2.patch</a></li>
<li><a href="https://marc.info/?l=linux-mm+m=157064677005638" target="_blank" rel="external">Final patch, default global variable only</a> – <a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/shmem-make-shmem-default-size-a-define-value.v5.4-rc2.patch" target="_blank" rel="external">shmem-make-shmem-default-size-a-define-value.v5.4-rc2.patch</a></li>
</ul>
<p>All three were ultimately rejected, for good reason.  The<br><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/shmem-add-shmem_size-option-set-filesystem-size.v4.18-rc6.patch" target="_blank" rel="external">shmem_size_hack.patch</a> continues to be used in GaryOS, due to the added<br>functionality, and is mentioned in the <a href="#Structure">Structure</a> and <a href="#Live_Update">Live Update</a> sections.</p>
<p><strong>Funtoo Ego</strong></p>
<p>Ego is the tool used by Funtoo to keep the “meta-repo” Portage tree up to date.<br>While Portage uses a monolithic directory tree, Ego uses a collection of Git<br>repositories pulled together using a “kits” infrastructure.  The<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/funtoo.kits" target="_blank" rel="external">gentoo/funtoo.kits</a> script was written to properly “pin” the final tree to<br>a particular commit, for stability and reproducibility.  Also for the <a href="#v4.0">v4.0</a><br>release, this hack was coded directly into the Ego tool:</p>
<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/add-commit-option-to-ego-sync.2.7.4-r1.patch" target="_blank" rel="external">add-commit-option-to-ego-sync.2.7.4-r1.patch</a></li>
</ul>
<p>This was submitted upstream, but was not usable in <a href="#v4.0">v4.0</a> because of<br>a mis-match in the filesystem and Ego versions.  Thus, the<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay/app-admin/ego/files/add-commit-option-to-ego-sync.2.7.4-r1.patch" target="_blank" rel="external">ego_commit_hack.patch</a> is in the GaryOS “_overlay” directory, but is not<br>yet in production use.  This will hopefully change in <a href="https://github.com/garybgenett/gary-os/commits/master" target="_blank" rel="external">v5.0</a>, with the updated<br>Portage commit.</p>
<p><strong>Suckless DWM</strong></p>
<p>Tangentially related to GaryOS are the <a href="http://dwm.suckless.org/patches/historical/multimon" target="_blank" rel="external">DWM multimon patches</a> that the author<br>created to make multiple monitors easier to use in the DWM window manager.  The<br><a href="https://suckless.org" target="_blank" rel="external">Suckless</a> team accepts these patches on their website, but due to their<br>minimalist philosophy, contributions of this type are not committed into the<br>main repository, leaving users to use whatever set of patches suits them.</p>
<p>GaryOS does use DWM as the window manager for the <a href="#Graphical_Interface">Graphical Interface</a>, and<br>a slightly modified <a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/savedconfig/x11-wm/dwm" target="_blank" rel="external">dwm</a> configuration file is used for that.  It extends the<br>default DWM color scheme to the URxvt terminal and Links web browser, and also<br>makes Links the browser that is launched.  The default configuration is<br>otherwise unmodified, and no patches are used.</p>
<!-- https://kernel.org/doc/html/latest/process/submitting-patches.html -->
<!-- https://kernel.org/doc/html/latest/process/submit-checklist.html -->
<!-- https://funtoo.org/Development_Guide -->
<h3 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h3><p>This is very much a personal project, but any contributions are welcome and<br>will be publicly acknowledged.  For the time being, the best way is to submit<br>patches using the information in <a href="#Contact_+_Support">Contact + Support</a>.  Submissions should<br>include the commit hash used to create the patch.</p>
<p>For best results, use the <code>git format-patch</code> command.  Bonus points for using<br>the pre-made function in the “<a href="https://github.com/garybgenett/gary-os/blob/master/.bashrc" target="_blank" rel="external">.bashrc</a>“ file in the repository, like so:</p>
<ul>
<li><code>[...]/.bashrc git-patch [...]</code></li>
</ul>
<p>The author is passionate about who you are, your ideas and what you manifest in<br>the world.  All other attributes and circumstances are irrelevant<br>considerations here.  We are all just human beings.</p>
<p>It seems to be a current trend that opensource projects are adopting equality<br>and conduct statements.  These are the two best documents the author could<br>find, the latter of which was suggested by GitHub, which in turn inspired an<br>Internet search to find the former:</p>
<ul>
<li><a href="https://socialprotection-humanrights.org/framework/principles/equality-and-non-discrimination" target="_blank" rel="external">Social Protection + Human Rights Equality and Non-discrimination</a></li>
<li><a href="https://contributor-covenant.org/version/1/4/code-of-conduct.html" target="_blank" rel="external">Contributor Covenant Code of Conduct</a></li>
</ul>
<p>Hopefully that covers all the bases.  Let’s all just be kind to one another, so<br>we don’t even need documents like these.</p>
<h3 id="Licensing_+_Disclaimer"><a href="#Licensing_+_Disclaimer" class="headerlink" title="Licensing + Disclaimer"></a>Licensing + Disclaimer</h3><p>Starting with <a href="#v4.0">v4.0</a>, GaryOS is released under the <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank" rel="external">GNU GPL v3.0</a>.  It was<br>originally released under a <a href="http://opensource.org/licenses/BSD-3-Clause" target="_blank" rel="external">BSD-style license</a>.</p>
<p>The author and contributors do not offer any warranty, and you take all<br>responsibility for your use of this software.</p>
<p><strong>Licensing</strong></p>
<p>The author shares the same passion as the GNU project for a completely open<br>society based on open computing platforms.  The GPL license is a very profound<br>statement to those ends.</p>
<p>However, there is also the philosophy that BSD-style licenses are yet more<br>permissive, and support innovation in the for-profit markets of our current<br>world.  The author’s intent was to support this philosophy.</p>
<p>The switch was made for three reasons:</p>
<ol>
<li>After reviewing and considering closely the implications of each license,<br>the decision was made to essentially switch the support in philosphy.  With<br>intellectual property protections for source code, instead of copyrights as<br>written works, in addition to software patents and the legal enforcement of<br>both, the author reverted back to the “free and open society” mindset which<br>first inspired his entry into the opensource world and GNU/Linux.</li>
<li>With the <a href="#v4.0">v4.0</a> release, patches were provided publicly to GPL licensed<br>projects (see the <a href="#Contributions">Contributions</a> section), namely the Linux kernel and<br>the Funtoo distribution.  A compatible license was necessary for these<br>components, and it was easier to just switch the overall license.</li>
<li>Since the majority of the project is based on interpreted scripting<br>languages, which are not compiled source, a BSD license no longer made<br>sense.  It is also highly unlikely that any proprietary software will<br>incorporate any aspect of this project.</li>
</ol>
<p>For further details, see the current <a href="https://github.com/garybgenett/gary-os/blob/master/LICENSE.md" target="_blank" rel="external">License</a> and/or the licenses for each<br>release in the <a href="#Version_History">Version History</a> section.</p>
<p><strong>Disclaimer</strong></p>
<p>Please note that both these licenses include disclaimer of warranty and<br>limitation of liability statements.  The statements in the licenses are the<br>final word on those subjects, but are summarized here as: use this software at<br>your own risk, because if it breaks you own all the pieces.  This is unlikely,<br>but the author and any contributors need to indemnify themselves.</p>
<p>Similar to the <a href="#Contributing">Contributing</a> section, Hopefully we can dispense with the need<br>for documents and statements like these someday.</p>
<hr>
<h1 id="Information"><a href="#Information" class="headerlink" title="Information"></a>Information</h1><p>This collection of sections covers GaryOS and the repository in greater depth,<br>and is not for the faint of heart.</p>
<p>It is mainly here for completeness.  The most useful information is in the<br><a href="#Introduction">Introduction</a> and <a href="#Instructions">Instructions</a> sections.</p>
<h2 id="Design"><a href="#Design" class="headerlink" title="Design"></a>Design</h2><p>GaryOS was not really “designed”, per se.  It very much happened organically.<br>Any lack of production value to the code is a result of that.</p>
<p>Despite not having been designed in the traditional sense, GaryOS does have<br>clear structure and requirements, along with unique advantages and limitations.<br>It also has an interesting origin story, like all superheroes.</p>
<h3 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h3><p>Here are the guiding principles that keep GaryOS going in a consistent<br>direction, with a consistent purpose.</p>
<p>Top requirements:</p>
<ul>
<li>All-purpose, multi-OS rescue environment, based on Funtoo</li>
<li>Complete system, with all packages installed as they normally would be</li>
<li>As close to default as possible, aside from Portage package build tuning</li>
<li>Generic 64-bit build, supporting most modern x86 platforms</li>
<li>Bootable from a single kernel file, using initramfs</li>
<li>Make Funtoo installation trivial as a live media</li>
</ul>
<p>Other objectives:</p>
<ul>
<li>Support as many boot methods as possible, such as USB setup and PXE</li>
<li>Minimalist, performant Portage configuration, using only what is needed</li>
<li>Avoid non-opensource and binary licenses and packages as much as possible</li>
<li>Example configuration/scripts for tuning and maintaining a Funtoo system</li>
<li>Foster a DIY (Do It Yourself) approach through good documentation</li>
<li>Learning environment for those new to GNU/Linux or Funtoo</li>
</ul>
<p>Explicit non-goals:</p>
<ul>
<li>Growing bigger than a single kernel file</li>
<li>Customization or deep branding of overall system</li>
<li>Development of a helper scripts/commands library</li>
<li>Alteration of boot or “init” infrastructure</li>
<li>Becoming a complete desktop environment</li>
</ul>
<h3 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h3><p>The number of live systems, for everything from basic rescue to a full<br>workstation, is quite staggering.  Many of them are extremely useful and very<br>well-established.  So, why create another one?</p>
<p>The main differentiators of GaryOS:</p>
<ol>
<li>A single kernel file is easier to manage and boot than an ISO file</li>
<li>It is a source-based Funtoo system, which is much more powerful than<br>binary distributions, like those based on Debian (Grml, Ubuntu, etc.)</li>
<li>Installation of Gentoo/Funtoo can be a bit of work, and having<br>a ready-made system can make the process much more approachable</li>
</ol>
<p>ISO files are the standard method of releasing live distributions, and they<br>work quite well, overall.  There are a few options for using them:</p>
<ol>
<li>Write directly to CD/DVD or USB media, each install or upgrade</li>
<li>Use a bootloader, like Grub, which supports booting ISO images</li>
<li>Extract the ISO contents to USB media, and configure everything manually</li>
</ol>
<p>They do pose some challenges, however:</p>
<ol>
<li>CDs/DVDs are antiquated, and not as ubiquitous as USB drives</li>
<li>Wiping your USB drive every upgrade makes it more or less single-purpose</li>
<li>Booting directly from an ISO file uses an emulated CD/DVD “loop” drive<br>that the OS can use, requiring a small portion of bootloader code to stay<br>in memory and for the boot media to stay connected</li>
<li>Extracting everything onto a USB drive preserves other data on the drive<br>at the expense of complexity, and upgrades are not trivial</li>
</ol>
<p>Some distributions, such as Grml, have tools that automate the process of<br>extracting to USB, which makes the process much simpler.  The drawback is that<br>these scripts require you to start from a Unix-like system to begin with, and<br>ultimately they manage rather than remove the complexity.</p>
<p>The GaryOS philosophy is that no complex steps or scripting should be<br>necessary.  It is a single file, and upgrades are a simple matter of replacing<br>it.  Once the initial bootloader is configured, it should never need to be<br>touched again.  GaryOS should be a resident on the media, and not the purpose<br>of it.  No major live distribution takes this approach or makes these claims.</p>
<h3 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h3><p>Humans are not perfect, and rarely is anything we create.  While there is great<br>pride in GaryOS, and the care and attention to detail which goes with it, this<br>section is to be clear about its shortcomings.  The author wishes to avoid the<br>appearance of ignorance or negligence by being thoughtfully forthcoming.</p>
<p>General notes:</p>
<ul>
<li>Lack of progress reporting while booting feels very unpolished</li>
<li>Portage configuration is tuned more for the author than a general audience</li>
</ul>
<p>Considerations for the build system:</p>
<ul>
<li>Argument processing is very rudimentary, almost archaic, and non-unique<br>environment variables are used heavily for configuration</li>
<li>It is essentially just shell scripting, and all that comes with that</li>
</ul>
<p>General coding style and syntax:</p>
<ul>
<li>The coding style is organic, and not based on any standard guidelines</li>
<li>Most of the code is self-explanatory, but there are very few comments</li>
<li>Arbitrarily wide number of columns is not POSIX, and requires big monitors</li>
<li>Heavy use of tabs, for non-leading space and also mixed with standard<br>spaces (a “tab stop” of “8” is required for readability)</li>
</ul>
<p>Supportability:</p>
<ul>
<li>This is a mostly personal project which the author aspires to update at<br>least once a year, but there is not a copious amount of free time with<br>which to support and enhance this project</li>
<li>The history for the components of this project reside in several different<br>personal repositories which are merged together into the public GaryOS Git<br>repository (this process is performed by the “<a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_release" target="_blank" rel="external">gentoo/_release</a>“ script),<br>meaning that even minor disruptions or inclusion of new items will result<br>in a public repository that can not use the “fast-forward” feature of Git<br>and will require re-cloning</li>
</ul>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>The origin of the project was experimentation with the Metro, Buildroot and<br>BusyBox projects, and Metro in particular.  The goal at the time was to use<br>Metro to build customized “stage3” files.  As development of the concept<br>continued, the difference between a “stage3” and a system that could be run<br>live began to disappear.  An inspired moment of “could the custom stage3 be<br>used as an initramfs?”, and GaryOS was born as a relatively unique live OS.</p>
<p>Perusing the history of this repository and the <a href="https://sourceforge.net/projects/gary-os" target="_blank" rel="external">Download</a> directory will<br>provide pretty good visibility into those floundering beginnings.</p>
<p>Until <a href="#v1.1">v1.1</a>, it was still mostly a publicly-available experiment and not an<br>actual project fit for the masses.  That release marked a turning point where<br>an effort was made towards general usability.  Starting with <a href="#v2.0">v2.0</a>, releases<br>were made specifically to be utilized by a general audience.  Improvements were<br>made through <a href="#v3.0">v3.0</a>, but the project remained in an embryonic state.  Both<br><a href="#v2.0">v2.0</a> and <a href="#v3.0">v3.0</a> were primarily driven by an update in the Portage commit used<br>to determine the package versions.  In particular, <a href="#v3.0">v3.0</a> was released mostly<br>on the self-imposed pressure to put out another release.</p>
<p>In the time from 2015-2019, life took on some big changes for the author, and<br>GaryOS fell by the wayside.  His own personal system languished until 2017,<br>when an absolutely necessary update was forced as a matter of being able to<br>accomplish critical tasks, such as using certain websites.  Another year<br>whittled by, as infrequent and half-hearted investments where made until<br>another upgrade in 2018.  Again it took almost a year to perform an upgrade,<br>and also to complete the efforts towards another actual release of GaryOS.</p>
<p>With the <a href="#v4.0">v4.0</a> release, a genuine effort was made to upgrade the project to<br>a production-grade distribution.  Despite over 4 years of release inactivity,<br>downloads remained consistent, and even experienced a few unexplained spikes.<br>The build system was switched from Metro to the one being used by the author<br>for his personal builds, the build system was made much more robust, all the<br>scripts were cleaned up and documented as much as possible, and a Makefile<br>was written to make the system more usable.  Tuning of the system was done on<br>a more granular level, and some non-intrusive branding and polish was added.<br>Finally, paths to live updating or installation were formalized and wrapped<br>using the Makefile.  Generally speaking, the final result was designed to be<br>less “hackish”.</p>
<p>At that point in time, upgrades were still taking a year or more to complete.<br>With the updated build system and release process, work began to decrease the<br>time between stable builds, and continues today towards <a href="https://github.com/garybgenett/gary-os/commits/master" target="_blank" rel="external">v5.0</a>.</p>
<p>The project was not named GaryOS out of any delusions of grandeur or egomania.<br>It was coined years before its birth by a pair of good friends who jested at<br>the amount of time and effort spent tuning and customizing a computing<br>environment.  The author’s workstation was jokingly called “Gary OS”.</p>
<p>All the heavily personalized tools, configuration and automation are made<br>possible by the dedicated efforts of thousands of developers worldwide who<br>build and maintain a plethora of opensource projects.  Since GaryOS is really<br>nothing more than a thin layer of wrapping and polish on the more mature work<br>of these projects, it seemed fitting to name the project as such in<br>a self-deprecating manner.</p>
<p>That final point is worth re-iterating: GaryOS is 95%+ the work of other<br>projects.  All that has been done is to tie things together in a way that some<br>may find novel, appealing and useful.</p>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><p>This section outlines the key pieces which make GaryOS tick.  The work will<br>still pretty much speak for itself, but some explanation of what all the stuff<br>in this repository is will likely be beneficial to anyone curious enough to<br>have read this far.</p>
<p>Most of what is needed to use the contents of this repository is contained in<br>the <a href="#Structure">Structure</a> section.</p>
<h3 id="Versioning"><a href="#Versioning" class="headerlink" title="Versioning"></a>Versioning</h3><p>Release version numbers are assigned in the spirit of <a href="https://semver.org" target="_blank" rel="external">Semantic Versioning</a>.<br>However, GaryOS does not provide any APIs, so the full specification does not<br>apply.  As such, the model used is to update the major version number whenever<br>the Portage commit is updated.  Minor version numbers are done for updates to<br>a particular Portage commit as a new release.</p>
<p>A notable exception was <a href="#v1.0">v1.0</a>.  The reason being that was the first version<br>released as a single kernel file and meant for general use.  The <a href="#v1.1">v1.1</a> release<br>was a continuation of that work.  Starting with <a href="#v2.0">v2.0</a>, GaryOS will adhere to<br>the major/minor system, where each major is a new Portage tree and each minor<br>is just an update on that same tree.</p>
<p>Major revisions to the GaryOS build system and supporting scripting and<br>configuration files will also line up with major version numbers.</p>
<h3 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h3><p>Here is an overview of the repository contents, in order of relative importance:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Directory / File</th>
<th style="text-align:left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/README.md" target="_blank" rel="external">README.md</a></td>
<td style="text-align:left">This file.  All the documentation for GaryOS.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/LICENSE.md" target="_blank" rel="external">LICENSE.md</a></td>
<td style="text-align:left">The license GaryOS is distributed under.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/Makefile" target="_blank" rel="external">Makefile</a></td>
<td style="text-align:left">Primary starting point for using the build system using the <code>make</code> command.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/_packages" target="_blank" rel="external">_packages</a></td>
<td style="text-align:left">Final package list, including sizes and markers for what is installed versus packaged for the build.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/_commit" target="_blank" rel="external">_commit</a></td>
<td style="text-align:left">Solely for author tracking.  Records commit IDs for each of the repositories relevant to the building of GaryOS.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Key directories:</strong></td>
<td style="text-align:left">–</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/linux" target="_blank" rel="external">linux</a></td>
<td style="text-align:left">Archive of Linux kernel configuration files.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo" target="_blank" rel="external">gentoo</a></td>
<td style="text-align:left">Entirety of the Funtoo configuration, including the scripts used to build and manage installations.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay" target="_blank" rel="external">gentoo/_overlay</a></td>
<td style="text-align:left">Funtoo overlay directory.  Used very sparingly, and mostly for fixing broken packages.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/scripts" target="_blank" rel="external">scripts</a></td>
<td style="text-align:left">Ancillary scripts relevant to GaryOS, such as “<a href="https://github.com/garybgenett/gary-os/blob/master/scripts/grub.sh" target="_blank" rel="external">scripts/grub.sh</a>“.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts" target="_blank" rel="external">artifacts</a></td>
<td style="text-align:left">Storage for miscellaneous files used in the initramfs build.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches" target="_blank" rel="external">artifacts/patches</a></td>
<td style="text-align:left">Archive of patch files for preparing initramfs images.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/images" target="_blank" rel="external">artifacts/images</a></td>
<td style="text-align:left">Icons, screenshots and the like.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/archive" target="_blank" rel="external">artifacts/archive</a></td>
<td style="text-align:left">Stash space for files which don’t fit elsewhere, including snapshots of <a href="#Acknowledgements_+_Reviews">Acknowledgements + Reviews</a> items.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Core files:</strong></td>
<td style="text-align:left">–</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/.bashrc" target="_blank" rel="external">.bashrc</a></td>
<td style="text-align:left">Custom Bash configuration file.  Included as an essential scripting library.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/scripts/grub.sh" target="_blank" rel="external">scripts/grub.sh</a></td>
<td style="text-align:left">Generates the <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.grub.zip" target="_blank" rel="external">Grub</a> archive, which contains BIOS and EFI rescue bootloaders, along with a prepared disk image.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_system" target="_blank" rel="external">gentoo/_system</a></td>
<td style="text-align:left">Heart and soul of the build engine.  Creates new installations, and provides maintenance and inspection tooling.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_release" target="_blank" rel="external">gentoo/_release</a></td>
<td style="text-align:left">Does all the initramfs work, customizing and packaging the root filesystem and building the kernel.  Also performs the entire release and publishing process.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/funtoo" target="_blank" rel="external">gentoo/funtoo</a></td>
<td style="text-align:left">Contains the commit ID that the Funtoo Portage repository should be “pinned” to.  Ties the Funtoo configuration to a particular version of the Portage tree, which ensures repeatability and stability.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/funtoo.kits" target="_blank" rel="external">gentoo/funtoo.kits</a></td>
<td style="text-align:left">Hackish wrapper to the <code>meta-repo</code> Portage repository, to ensure proper “pinning”.  <em>(The <a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay/app-admin/ego/files/add-commit-option-to-ego-sync.2.7.4-r1.patch" target="_blank" rel="external">ego_commit_hack.patch</a> is a replacement, but currently usused due to a version conflict.  See <a href="#Contributions">Contributions</a> section.)</em></td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo.config" target="_blank" rel="external">gentoo.config</a></td>
<td style="text-align:left">Example script for post-build customization of an initramfs.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/.emergent" target="_blank" rel="external">gentoo/.emergent</a></td>
<td style="text-align:left">Audit script which validates current Funtoo configuration against Portage tools/output.  Also extracts useful information from the <code>meta-repo</code> Portage repository.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/savedconfig/x11-wm/dwm" target="_blank" rel="external">dwm</a></td>
<td style="text-align:left">Slightly modified DWM configuration file, to make <code>startx</code> more usable.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets/gary-os" target="_blank" rel="external">gentoo/sets/gary-os</a></td>
<td style="text-align:left">Package list for initramfs build.  Also contains custom keywords for tailoring the build.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets/_gary-os" target="_blank" rel="external">gentoo/sets/_gary-os</a></td>
<td style="text-align:left">Additional packages list, along with scripting instructions/commands for accomplishing various tasks and testing GaryOS.</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/artifacts/patches/shmem-add-shmem_size-option-set-filesystem-size.v4.18-rc6.patch" target="_blank" rel="external">shmem_size_hack.patch</a></td>
<td style="text-align:left">Kernel code changes to set the initramfs size in memory and add the “shmem_size” parameter.  Both of these changes were understandably rejected by Linux development team, and are therefore custom to GaryOS.  <em>(See the <a href="#Contributions">Contributions</a> and <a href="#Live_Update">Live Update</a> sections for details.)</em></td>
</tr>
<tr>
<td style="text-align:left"><strong>Just for fun:</strong></td>
<td style="text-align:left">–</td>
</tr>
<tr>
<td style="text-align:left"><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay/x11-plugins/gkrellaclock/files/xclock_size_hack.patch" target="_blank" rel="external">xclock_size_hack.patch</a></td>
<td style="text-align:left">The author wanted “<a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay/x11-plugins/gkrellaclock" target="_blank" rel="external">gkrellaclock</a>“ to look more like a genuine “xclock”, so he did it.  First real experience coding in C.  Created in early 2014 and still in active use.</td>
</tr>
</tbody>
</table>
<h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><p>This is a list of the primary tools and sites which are used to build and<br>distribute GaryOS.  Additional honorable mentions are in <a href="#Ecosystem">Ecosystem</a>.</p>
<p>First and foremost, the projects which brought opensource into the mainstream<br>need to be recognized:</p>
<ul>
<li>GNU (GNU’s Not Unix): <a href="https://gnu.org" target="_blank" rel="external">https://gnu.org</a></li>
<li>GNU/Linux: <a href="https://gnu.org/gnu/linux-and-gnu.html" target="_blank" rel="external">https://gnu.org/gnu/linux-and-gnu.html</a></li>
<li>Linux: <a href="https://linuxfoundation.org" target="_blank" rel="external">https://linuxfoundation.org</a> – <a href="https://kernel.org" target="_blank" rel="external">https://kernel.org</a></li>
</ul>
<p>All the real heavy-lifting is accomplished using these tools/projects:</p>
<ul>
<li>Funtoo + Ego: <a href="https://funtoo.org" target="_blank" rel="external">https://funtoo.org</a> – <a href="https://funtoo.org/Package:Ego" target="_blank" rel="external">https://funtoo.org/Package:Ego</a></li>
<li>Gentoo + Portage: <a href="https://gentoo.org" target="_blank" rel="external">https://gentoo.org</a> – <a href="https://wiki.gentoo.org/wiki/Portage" target="_blank" rel="external">https://wiki.gentoo.org/wiki/Portage</a></li>
<li>Linux initramfs: <a href="https://kernel.org/doc/Documentation/filesystems/ramfs-rootfs-initramfs.txt" target="_blank" rel="external">https://kernel.org/doc/Documentation/filesystems/ramfs-rootfs-initramfs.txt</a></li>
<li>Grub: <a href="https://gnu.org/software/grub" target="_blank" rel="external">https://gnu.org/software/grub</a></li>
</ul>
<p>Kernel configuration, package lists and acknowledgments to:</p>
<ul>
<li>Grml: <a href="https://grml.org" target="_blank" rel="external">https://grml.org</a></li>
<li>SystemRescueCd: <a href="http://www.system-rescue-cd.org" target="_blank" rel="external">http://www.system-rescue-cd.org</a></li>
</ul>
<p>Special thanks to the sites which made worldwide distribution possible:</p>
<ul>
<li>SourceForge: <a href="https://sourceforge.net" target="_blank" rel="external">https://sourceforge.net</a></li>
<li>GitHub: <a href="https://github.com" target="_blank" rel="external">https://github.com</a></li>
</ul>
<p>GitHub was instrumental in inspiring the author to publish this project, but<br>SourceForge provided the distribution platform which made it possible to reach<br>an international audience overnight.</p>
<h3 id="Ecosystem"><a href="#Ecosystem" class="headerlink" title="Ecosystem"></a>Ecosystem</h3><p>Beyond the <a href="#Tools">Tools</a> used to create and publish GaryOS, there is a small universe<br>of projects that either provided inspiration, see some use within GaryOS, or<br>are related projects that need to be pointed out.</p>
<p>To start, homage must be paid to those who started it all (at least, these are<br>the ones which the author used most over the years, after discovering tomsrtbt<br>in 1998):</p>
<ul>
<li>tomsrtbt: <a href="http://www.toms.net/rb" target="_blank" rel="external">http://www.toms.net/rb</a></li>
<li>KNOPPIX: <a href="https://knopper.net/knoppix" target="_blank" rel="external">https://knopper.net/knoppix</a></li>
<li>Debian Live: <a href="https://debian.org/devel/debian-live" target="_blank" rel="external">https://debian.org/devel/debian-live</a></li>
</ul>
<p>Inspiration was provided by:</p>
<ul>
<li>Metro: <a href="https://funtoo.org/Metro_Quick_Start_Tutorial" target="_blank" rel="external">https://funtoo.org/Metro_Quick_Start_Tutorial</a></li>
<li>Buildroot: <a href="https://buildroot.org" target="_blank" rel="external">https://buildroot.org</a></li>
<li>BusyBox: <a href="https://busybox.net" target="_blank" rel="external">https://busybox.net</a></li>
<li>StaticPerl: <a href="http://software.schmorp.de/pkg/App-Staticperl.html" target="_blank" rel="external">http://software.schmorp.de/pkg/App-Staticperl.html</a></li>
</ul>
<p>There are also a few projects which are relied on for critical tasks or highly<br>visible components, and deserve mention:</p>
<ul>
<li>Vim: <a href="https://www.vim.org" target="_blank" rel="external">https://www.vim.org</a></li>
<li>Git: <a href="https://git-scm.com" target="_blank" rel="external">https://git-scm.com</a></li>
<li>Qemu: <a href="https://qemu.org" target="_blank" rel="external">https://qemu.org</a></li>
<li>Suckless: <a href="https://suckless.org" target="_blank" rel="external">https://suckless.org</a></li>
<li>Links: <a href="http://links.twibright.com" target="_blank" rel="external">http://links.twibright.com</a></li>
<li>Rufus: <a href="https://rufus.ie" target="_blank" rel="external">https://rufus.ie</a></li>
</ul>
<p>It should be noted, with additional emphasis, the critical role tomsrtbt played<br>in the course of the author’s career, and his sustained mentality towards the<br>malleability of GNU/Linux and its power and flexibility as a “run anywhere,<br>anyhow” computing environment.</p>
<hr>
<h1 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h1><p>The following sections are intended to be the HOWTO documentation for using<br>various aspects of GaryOS.  They are the primary use cases that have been<br>considered and tested.</p>
<p>These are fully supported, and are verified each release.  Each section contains<br>the validation details, and the [Release Process + Checklist] section has<br>further information about the testing done.</p>
<h2 id="Booting"><a href="#Booting" class="headerlink" title="Booting"></a>Booting</h2><pre><code>#WORKING
</code></pre><h3 id="USB_Drive_+_Grub_Rescue"><a href="#USB_Drive_+_Grub_Rescue" class="headerlink" title="USB Drive + Grub Rescue"></a>USB Drive + Grub Rescue</h3><p>[USB Drive +_Grub Rescue]: #USB Drive + Grub Rescue</p>
<pre><code>#WORK
https://linux.org/threads/understanding-the-various-grub-modules.11142
#WORK usb drive instructions, using grub.sh (merge with grub section below?)
#WORK new options/help and menu search feature...
#WORK hybrid mbr notes?  automate in grub.sh?  yes... script out creation of a blank usb drive
https://wiki.gentoo.org/wiki/GRUB2#BIOS_with_GPT
http://rodsbooks.com/gdisk/hybrid.html
#WORK
rufus instructions || ctrl+r = compmgmt.msc / diskmgmt.msc -&gt; ctrl+x = Disk Management -&gt; search box = disk management = &quot;Create and format hard disk partitions&quot;
    anything 4gb or greater
    right click zip -&gt; extract all (select same folder it is in, such as desktop)
    rufus (yes, allow, if it asks)
    skip the update
    select usb drive (may need advanced drive options -&gt; List USB Hard Drives) -&gt; screenshot?
    select loopfile.img image
    start (yes, destroy! = careful!)
    diskmgmt -&gt; erase last partition and create new
    gary-os/gary-os.grub.cfg
    gary-os/gary-os.kernel
    ready to go!
https://github.com/pbatard/rufus
https://github.com/pbatard/rufus/releases/download/v3.7/rufus-3.7p.exe
git://github.com/pbatard/rufus.git -&gt; wsl -&gt; sudo apt-get install build-essential
add to tools section
version update to release checklist
last tested = version
custom menu gary-os.grub.cfg
secure boot
null kernel = was that just a fluke?  test laptop again...
#WORK
</code></pre><ul>
<li>Definition:<ul>
<li>Boot into a mostly complete Grub environment directly from the<br>boot record without requiring any additional files from disk</li>
<li>Create a Grub “core.img” which can be booted using identical<br>methods and options as GaryOS, such as PXE, Qemu, etc.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>Tested in place of GaryOS with both Qemu and PXE<ul>
<li>For details on PXE, see the <a href="#PXE_Boot">PXE Boot</a> section below</li>
</ul>
</li>
<li>Grub: sys-boot/grub-2.02_beta2-r3</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="https://gnu.org/software/grub/manual/grub.html#BIOS-installation" target="_blank" rel="external">https://gnu.org/software/grub/manual/grub.html#BIOS-installation</a><ul>
<li><a href="https://gnu.org/software/grub/manual/grub.html#Images" target="_blank" rel="external">https://gnu.org/software/grub/manual/grub.html#Images</a></li>
</ul>
</li>
<li><a href="http://lukeluo.blogspot.com/2013/06/grub-how-to-4-memdisk-and-loopback.html" target="_blank" rel="external">http://lukeluo.blogspot.com/2013/06/grub-how-to-4-memdisk-and-loopback.html</a></li>
<li><a href="http://wiki.osdev.org/GRUB_2#Disk_image_instructions" target="_blank" rel="external">http://wiki.osdev.org/GRUB_2#Disk_image_instructions</a></li>
</ul>
</li>
</ul>
<p>For convenience and supportability, this case has also been automated in<br>the <code>grub.sh</code> script.  The <code>gary-os.grub.*</code> file in the root download<br>directory contains an archive of the output of this script.  However,<br>for this case the script will need to be run locally.  The <a href="#Windows_Dual-Boot">Windows<br>Dual-Boot</a> section above has more details on the <code>grub.sh</code> script and<br>its usage and output.</p>
<p>Instructions for Grub “rescue” image installation to hard disk:</p>
<ol>
<li>Create an empty working directory:<ul>
<li>e.g. <code>mkdir /tmp/grub</code></li>
</ul>
</li>
<li>Change into the working directory:<ul>
<li>e.g. <code>cd /tmp/grub</code></li>
</ul>
</li>
<li>Run the <code>grub.sh</code> script with a block device argument:<ul>
<li>e.g. <code>grub.sh /dev/sda</code></li>
</ul>
</li>
<li>The script will create necessary files in the working directory,<br>and then uses <code>grub-bios-setup</code> to install the custom-built<br>“core.img” into the boot record.</li>
<li>The block device can now be booted directly into a Grub environment<br>which does not require any access to disk for its modules or<br>configuration.<ul>
<li><strong>The working directory is no longer needed and can be deleted.</strong></li>
</ul>
</li>
<li>To remove, simply re-install Grub using <code>grub-install</code> as usual, or<br>install another bootloader.</li>
</ol>
<h3 id="Windows_Dual-Boot"><a href="#Windows_Dual-Boot" class="headerlink" title="Windows Dual-Boot"></a>Windows Dual-Boot</h3><ul>
<li>Definition:<ul>
<li>Boot using the native Windows bootloader</li>
<li>No modifications to the hard drive partitions or boot records</li>
<li>Do not require any files outside of <code>C:</code> in the Windows<br>installation</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
<li>MBR/GPT only; EFI not built or tested</li>
<li>Windows 7 Ultimate SP1 64-bit</li>
<li>Grub: sys-boot/grub-2.02_beta2-r3</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="http://lists.gnu.org/archive/html/help-grub/2013-08/msg00005.html" target="_blank" rel="external">http://lists.gnu.org/archive/html/help-grub/2013-08/msg00005.html</a><ul>
<li><a href="http://blog.mudy.info/2010/08/boot-grub2-stage2-directly-from-windows-bootmgr-with-grub4dos-stage1" target="_blank" rel="external">http://blog.mudy.info/2010/08/boot-grub2-stage2-directly-from-windows-bootmgr-with-grub4dos-stage1</a></li>
</ul>
</li>
<li><a href="https://wiki.archlinux.org/index.php/Windows_and_Arch_Dual_Boot#Using_Windows_boot_loader" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Windows_and_Arch_Dual_Boot#Using_Windows_boot_loader</a><ul>
<li><a href="http://iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit" target="_blank" rel="external">http://iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>For convenience and supportability, this case has been mostly automated<br>in the <code>grub.sh</code> script.  The <code>gary-os.grub.*</code> file in the root download<br>directory contains an archive of the output of this script.</p>
<p>Overview of the script:</p>
<ul>
<li>When run without arguments, it creates a series of Grub images and<br>configuration files in the current directory.</li>
<li>When run with a single block device argument, the target device will<br>be used for installation of the “rescue” Grub image, rather than the<br>example disk image file.</li>
</ul>
<p>Overview of the output:</p>
<ul>
<li><code>bcdedit.bat</code><ul>
<li>Used to install/remove the necessary entries from the Windows<br>bootloader database.</li>
</ul>
</li>
<li><code>bootstrap.*</code><ul>
<li>Grub “core.img” and configuration loaded from the Windows<br>bootloader.  Uses the directory added to <code>C:</code> (instructions below)<br>for modules (such as <code>i386-pc</code> directory) and menu configuration.</li>
</ul>
</li>
<li><code>grub.cfg</code><ul>
<li>Grub menu used by “bootstrap” above.  Can be modified as needed to<br>boot other OSes/objects.<br>#WORK: note about <code>*.efi</code> files recently added…<br>#WORK: add use-case for Mac OSX booting with rEFInd<br>#WORK: no mac os x, won’t boot linux</li>
</ul>
</li>
<li><code>rescue.*</code><ul>
<li>Grub “core.img” rescue environment detailed further in [Grub<br>Rescue] section below.</li>
</ul>
</li>
<li><code>rescue_example.raw</code><ul>
<li>Hard disk image file example of installation of Grub “rescue”<br>environment.</li>
</ul>
</li>
</ul>
<p>Instructions for Windows bootloader dual-boot:</p>
<ol>
<li>The script assumes a default installation, with a small boot<br>partition as partition 1 and Windows <code>C:</code> on partition 2.  All<br>other partitions must be 3 or higher.  Configurations that do not<br>match this will require minor edits to the script, and a fresh<br>build of the output directory.</li>
<li>Copy the output directory to <code>C:\gary-os.grub</code>, or wherever the<br>script has been modified to point to.</li>
<li>Run the <code>bcdedit.bat</code> script as Administrator (using the left-click menu).<br>Running this script without Administrator privileges can cause unexpected<br>and/or undesired results.  The <code>bcdedit.guid.txt</code> file that is created is<br>necessary for automatic removal of the created boot entry.</li>
<li>Place the GaryOS files at these locations:<ul>
<li><code>C:\gary-os-64.kernel</code></li>
<li><code>C:\gary-os-32.kernel</code></li>
</ul>
</li>
<li>Use the new option in the Windows bootloader to switch to Grub and<br>boot GaryOS (or other OSes/objects bootable by Grub).  Doing<br>nothing will boot into Windows as usual.</li>
<li>Simply update the GaryOS files in-place to upgrade.</li>
<li>Run the <code>bcdedit.bat</code> script as Administrator to remove from the<br>Windows bootloader configuration.  The directory and files created<br>in <code>C:</code> need to be removed manually.</li>
</ol>
<p>If the <code>bcdedit.guid.txt</code> file is lost, or otherwise becomes out of<br>date with the bootloader database, use the <code>bcdedit</code> command as<br>Administrator to remove the unwanted entries:</p>
<ol>
<li>Run <code>cmd</code> as Administrator.</li>
<li>Run <code>bcdedit</code> to view the bootloader database.  Copy the<br><code>identifier</code> field for each GaryOS entry.</li>
<li>Run <code>bcdedit /delete {identifier} /cleanup</code> for each entry.  Note<br>that the <code>{identifier}</code> should be replaced with the full string<br>output in #2 above, including the <code>{}</code> markers.<ul>
<li>e.g. <code>bcdedit /delete {02a0fce9-68f5-11e3-aa07-e94d28b95f82}
/cleanup</code></li>
</ul>
</li>
</ol>
<h3 id="PXE_Boot"><a href="#PXE_Boot" class="headerlink" title="PXE Boot"></a>PXE Boot</h3><pre><code>#WORK: http://ondatechnology.org/wiki/index.php?title=Booting_the_Linux_Kernel_without_a_bootloader
</code></pre><ul>
<li>Definition:<ul>
<li>Boot from a PXE environment</li>
<li>With some modification of the Funtoo configuration and package list, the<br>build system can be used to create a lab workstation or other automated<br>environment where a reboot completely resets each machine involved</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
<li>DHCPd: net-misc/dhcp-4.2.5_p1-r2</li>
<li>TFTPd: net-misc/iputils-20121221-r2</li>
<li>iPXE: sys-firmware/ipxe-1.0.0_p20130624-r2</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="https://wiki.archlinux.org/index.php/archboot#PXE_booting_.2F_Rescue_system" target="_blank" rel="external">https://wiki.archlinux.org/index.php/archboot#PXE_booting_.2F_Rescue_system</a></li>
</ul>
</li>
</ul>
<p>Once you have a functioning PXE environment, on a global or per-host<br>basis add the following configuration option to <code>dhcpd.conf</code>:</p>
<ul>
<li><code>filename &quot;gary-os-[...].kernel&quot;;</code></li>
</ul>
<h2 id="Running"><a href="#Running" class="headerlink" title="Running"></a>Running</h2><pre><code>#WORKING
</code></pre><h3 id="Forensics_+_Recovery"><a href="#Forensics_+_Recovery" class="headerlink" title="Forensics + Recovery"></a>Forensics + Recovery</h3><pre><code>* #WORK: eliminate
</code></pre><ul>
<li>Definition:<ul>
<li>Boot into a completely “clean” environment, so that diagnostics<br>and/or recovery can be done in a read-only manner</li>
</ul>
</li>
<li><p>Last tested with:</p>
<ul>
<li>GaryOS v3.0</li>
</ul>
<p>#WORK only two daemons running (Udev and SSH)<br>#WORK Once booted, the entire system resides in memory.</p>
</li>
</ul>
<p>GaryOS is in a forensics mode by default.  Hardware scanning is<br>performed, but the hard drives are not mounted or otherwise touched.<br>All entries in <code>/etc/fstab</code> have been commented out.  As a result, swap<br>is also disabled.</p>
<p>Linux kernel options can further be used to disable hardware scanning<br>and interrogation.</p>
<p>It is a stated goal that forensics mode continue being the default.</p>
<pre><code>#WORK suspend to ram capability
</code></pre><h3 id="Networking_Configuration"><a href="#Networking_Configuration" class="headerlink" title="Networking Configuration"></a>Networking Configuration</h3><ul>
<li>Definition:<ul>
<li>Configure networking, either wired or wireless</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>No networking configuration or daemons are run by default, but several<br>networking packages are installed to ease on-the-fly setup.</p>
<p>For simple DHCP, the <code>dhcpcd</code> command can be run directly on the desired<br>interface, such as an Ethernet connection:</p>
<pre><code>#WORK ??? use only `rc-update add dhcpcd default ; rc` ??? make this work with wpa_cli
#WORK now set up by default!  only need instructions for wpa_cli if wireless...  must still do the rc-update adds
#WORK netmount is disabled... no networking... not even sshd... remove sshd from above!
#WORK https://wiki.gentoo.org/wiki/Network_management_using_DHCPCD
</code></pre><a href="/!--
https:/wiki.gentoo.org/wiki/Wpa_supplicant#Using_wpa_cli
https:/wiki.archlinux.org/index.php/WPA_supplicant#Connecting_with_wpa_cli
https:/wireless.wiki.kernel.org/en/users/drivers/mac80211_hwsim
--">!--
https://wiki.gentoo.org/wiki/Wpa_supplicant#Using_wpa_cli
https://wiki.archlinux.org/index.php/WPA_supplicant#Connecting_with_wpa_cli
https://wireless.wiki.kernel.org/en/users/drivers/mac80211_hwsim
--</a>
<pre><code>#WORK `wpa_password &quot;&lt;ssid&gt;&quot; &quot;&lt;password&gt;&quot; &gt; /etc/wpa_supplicant/wpa_supplicant.conf`
#WORK Add `ssid_scan=1` to `/etc/wpa_supplicant/wpa_supplicant.conf`
#WORK `rc-update add wpa_supplicant default ; rc`

#WORK get rid of &quot;networkmanager&quot; and &quot;nmcli&quot; commands; use &quot;iwconfig/iwlist&quot; instead... nmtui?
#WORK (ha! all the below text is actually starting to look pretty good... maybe just test it once more...)

#WORK commands for wpa_cli, no more networkmanager
</code></pre><ul>
<li><code>dhcpcd eth0</code></li>
</ul>
<p>A more formal way of doing this would be to use the OpenRC scripts:</p>
<ul>
<li><code>rc-update add dhcpcd default ; rc</code></li>
</ul>
<p>For wireless networking, the NetworkManager package is available to<br>simplify the configuration:</p>
<ul>
<li><code>rc-update add NetworkManager default ; rc</code></li>
</ul>
<p>Wireless networks can then be scanned and configured:</p>
<ul>
<li><p>e.g. …</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nmcli device wifi rescan</span><br><span class="line">nmcli device wifi list</span><br><span class="line">nmcli device wifi connect [ssid] password [password]</span><br><span class="line">nmcli device status</span><br></pre></td></tr></table></figure>
<p>#WORK For a more user-friendly interface, the <code>nmtui</code> utility can also be<br>#WORK used.  It is part of the NetworkManager package, and “has a very nice<br>#WORK console-based interface” according to the Funtoo documentation.</p>
</li>
</ul>
<p>The Funtoo OpenRC scripts have all sorts of advanced networking features<br>and options, covered in depth:<br><a href="https://funtoo.org/Networking" target="_blank" rel="external">https://funtoo.org/Networking</a></p>
<h3 id="Graphical_Interface"><a href="#Graphical_Interface" class="headerlink" title="Graphical Interface"></a>Graphical Interface</h3><pre><code>#WORK standardize the name (X.Org/Xorg) and details (GUI/graphical) here and in /etc/issue
#WORK https://wiki.gentoo.org/wiki/Dwm
#WORK is just a simple &quot;startx&quot; now
#WORK title bar pointer, and elinks menu click
#WORK readme = left click or Alt+Left / man dwm = right click or Alt+Right
#WORK xrandr --query
#WORK xrandr --output Virtual-0 --mode 1920x1200
#WORK https://wiki.archlinux.org/index.php/QEMU#SPICE
#WORK    /etc/init.d/spice-vdagent start
#WORK    spice-vdagent
</code></pre><ul>
<li>Definition:<ul>
<li>Start up and use the X.Org GUI environment</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>GaryOS boots to CLI (Command-Line Interface) by default.  To enter the<br>graphical interface, run <code>startx</code>.</p>
<pre><code>#WORK nomodeset is not required anymore
</code></pre><p>The Linux kernel includes driver modules for many common video cards,<br>but to keep the size of GaryOS down the X.Org installation only includes<br>the VESA driver (which almost all modern video cards support).  If the<br>kernel driver for a video card is loaded at boot, it will prevent X.Org<br>from taking over.  If you plan to run the graphical interface, use the<br><code>nomodeset</code> kernel option when booting to prevent Linux from loading any<br>video card drivers.</p>
<p>By default, the DWM window manager is used.  URxvt is the default<br>terminal emulator, and Surf is the default browser.  Both are wrapped<br>using the Tabbed utility.</p>
<p>Keyboard shortcuts:</p>
<ul>
<li>Use <code>ALT-SHIFT-ENTER</code> to launch terminal emulator.</li>
<li>Use <code>ALT-CTRL-ENTER</code> to launch web browser.</li>
</ul>
<p>More information:</p>
<ul>
<li>Read <code>man dwm</code> for help on the window manager.</li>
<li>Read <code>man tabbed</code> for help on the tabbing utility.</li>
<li>Read <code>man urxvt</code> for help on the terminal emulator.</li>
<li><p>Read <code>man surf</code> for help on the web browser.</p>
<p>#WORK: not all suckless now!  note the “netsurf-fb” browser as an option…<br>#WORK: not all suckless now!  kudos to the “links” browser…<br>#WORK: dwm patches in <a href="#Contributions">Contributions</a> section</p>
</li>
</ul>
<p>Thanks to the <a href="https://suckless.org" target="_blank" rel="external">Suckless</a> team for creating such lightweight and useful<br>software.</p>
<h2 id="Building"><a href="#Building" class="headerlink" title="Building"></a>Building</h2><pre><code>#WORKING
</code></pre><h3 id="Live_Update"><a href="#Live_Update" class="headerlink" title="Live Update"></a>Live Update</h3><pre><code>#WORK: ramfs size kernel option (shmem_size=), will be 50% up to 4g
#WORK: see &quot;gary-os&quot; sets file
#WORK: minimum memory to boot: ???
#WORK: recommended memory to live update: ???

#WORK: instructions here or in gary-os sets file?  would probably be best to move those to here... ditch the sshfs madness, or keep there as personal insructions (from usb is probably better)?
#WORK: mount -o remount,size=6g /
#WORK: following tars may need the files copied if linux.tar.xz is too huge to make the initramfs
#WORK: tar -vvx -C /var/git -f /var/git/meta-repo.tar.xz
#WORK: tar -xvv -C /usr/src -f /usr/src/linux.tar.xz
#WORK: create a &quot;make open&quot; target to do the untars... document both in here and there...

#WORK: seems to work, but only without ccache?
</code></pre><ul>
<li>Definition:<ul>
<li>Update/install packages using Funtoo tools</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0, with 8GB memory</li>
</ul>
</li>
</ul>
<p>A complete Funtoo environment is available.  In order to install/update<br>packages, a couple of missing items need to be put into place.  A surprising<br>number of packages can be installed without filling up the in-memory<br>filesystem.</p>
<p>Instructions for setting up update/install of packages:</p>
<ol>
<li>Install Portage tree.<ul>
<li><strong>Option 1:</strong> Synchronize tree as usual.<ul>
<li><code>emerge --sync</code></li>
</ul>
</li>
<li><strong>Option 2:</strong> Download <code>portage-*</code> archive from one of the <code>v#.#</code><br>version download directories; preferably from the one which<br>matches your version of GaryOS.  This option is best if you plan<br>to keep this file on the same media along side the GaryOS kernel<br>file(s).  To extract:<ul>
<li><code>tar -pvvxJ -C /usr -f portage-[...].tar.xz</code></li>
</ul>
</li>
<li>Generally speaking, “Option 1” is a smaller/faster download than<br>“Option 2”.  However, “Option 2” has the benefit of offline<br>access, and may be simpler to update from since it is at the same<br>revision of the tree that was used to build that version of<br>GaryOS.<br>#WORK: hacks no longer needed…</li>
</ul>
</li>
<li><p>Perform minor hacks to get working in a RAMdisk environment.  These<br>should <strong>NOT</strong> be done if planning to install to disk per the<br>[Installation] section below.  They essentially disable available<br>space checks, since the Portage scripts expect to be using<br>a physical disk.  Commands to run:</p>
<ul>
<li><p>…</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i &quot;s%has_space = False%has_space = True%g&quot; \</span><br><span class="line">    /usr/lib/portage/pym/portage/package/ebuild/fetch.py</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>alias emerge=&quot;I_KNOW_WHAT_I_AM_DOING=true emerge&quot;</code></p>
<ul>
<li>For details, see <code>&quot;There is NOT at least&quot;</code> in<br><code>/usr/portage/eclass/check-reqs.eclass</code></li>
</ul>
</li>
</ul>
</li>
<li>Make desired edits to <code>/etc/portage</code> configuration.<ul>
<li>In particular, to complete configuration of the X.Org GUI the<br><code>INPUT_DEVICES</code> and <code>VIDEO_CARDS</code> variables should be properly<br>configured.<br>#WORK: this is now done by just using the [_gary-os] package set, or a new, custom one… also, no more metro…</li>
<li>Starting with <code>bindist</code>, there is a list of negated <code>-*</code> options<br>at the end of the <code>USE</code> list which are necessary to build GaryOS<br>via Metro.  All of these can/should be removed to get the full<br>non-Metro configuration.</li>
</ul>
</li>
<li>Use all Portage commands as usual.<ul>
<li>e.g. <code>emerge firefox</code></li>
</ul>
</li>
</ol>
<h3 id="Custom_Builds"><a href="#Custom_Builds" class="headerlink" title="Custom Builds"></a>Custom Builds</h3><pre><code>* #WORK NEW build-within-the-build = on-disk and in-system
* #WORK: https://downloads.sourceforge.net/project/gary-os/v3.0/stage3-core2_64-funtoo-stable-2015-01-27.tar.xz
* #WORK: does not install expect, so may need to hit enter a few times...
</code></pre><h3 id="Hard_Drive_Install"><a href="#Hard_Drive_Install" class="headerlink" title="Hard Drive Install"></a>Hard Drive Install</h3><ul>
<li>Definition:<ul>
<li>Install GaryOS to disk</li>
</ul>
</li>
<li><p>Last tested with:</p>
<ul>
<li>GaryOS v3.0</li>
</ul>
<p>#WORK validation steps: verify table against “_system” and “_release”… in “_release”, also validate the “_prepare_config” table<br>#WORK <a href="https://funtoo.org/Install" target="_blank" rel="external">https://funtoo.org/Install</a></p>
</li>
</ul>
<p>The in-memory environment is a complete Funtoo installation, as shown in the<br><a href="#Live_Update">Live Update</a> section above.  It can be copied directly to a new disk/partition<br>and booted as a fresh installation like a standard <code>stage3</code> file.</p>
<p>As part of the release build process, several files are added, replaced,<br>modified or removed to create a particular look and feel for GaryOS.  These<br>modifications are kept to an absolute minimum, and are listed here:</p>
<pre><code>#WORK validate this table looks good in composer/github
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">File</th>
<th style="text-align:left">Release Modification</th>
<th style="text-align:left">Install Action</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/.gary-os</td>
<td style="text-align:left">Added</td>
<td style="text-align:left">Remove</td>
</tr>
<tr>
<td style="text-align:left">/.gary-os.packages.txt</td>
<td style="text-align:left">Added</td>
<td style="text-align:left">Remove</td>
</tr>
<tr>
<td style="text-align:left">–</td>
<td style="text-align:left">–</td>
<td style="text-align:left">–</td>
</tr>
<tr>
<td style="text-align:left"><del>/boot/_null_kernel</del></td>
<td style="text-align:left"><del>Added</del></td>
<td style="text-align:left"><del>Keep</del></td>
</tr>
<tr>
<td style="text-align:left">/usr/src/linux</td>
<td style="text-align:left">Removed</td>
<td style="text-align:left">Restore <em>(unpack)</em></td>
</tr>
<tr>
<td style="text-align:left">/usr/src/linux-*</td>
<td style="text-align:left">Removed</td>
<td style="text-align:left">Remove</td>
</tr>
<tr>
<td style="text-align:left">/usr/src/linux.tar.xz</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/var/git/meta-repo</td>
<td style="text-align:left">Removed</td>
<td style="text-align:left">Restore <em>(unpack)</em></td>
</tr>
<tr>
<td style="text-align:left">/var/git/meta-repo*.tar.xz</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">–</td>
<td style="text-align:left">–</td>
<td style="text-align:left">–</td>
</tr>
<tr>
<td style="text-align:left">/etc/issue</td>
<td style="text-align:left">Replaced</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/motd</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/init</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/fstab</td>
<td style="text-align:left">Modified</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/conf.d/hostname</td>
<td style="text-align:left">Modified</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/profile.d/setterm.sh</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/wpa_supplicant/wpa_supplicant.conf</td>
<td style="text-align:left">Replaced</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/ssh/sshd_config</td>
<td style="text-align:left">Modified</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/env.d/90xsession</td>
<td style="text-align:left">Added</td>
<td style="text-align:left"><del>Remove</del> = Keep</td>
</tr>
<tr>
<td style="text-align:left">/etc/X11/Sessions/dwm</td>
<td style="text-align:left">Modified</td>
<td style="text-align:left"><del>Restore</del> = Keep</td>
</tr>
</tbody>
</table>
<pre><code>#WORK: all the &quot;sets&quot; variables like RCUPDT
#WORK: FSSKIP variable, add list here, add note to variable, just like in \_release for table
#WORK: double-check against _prepare_config
</code></pre><p>Some other important changes, which must all be reset manually:</p>
<ul>
<li>Linux kernel configuration, sourced from <code>linux</code> directory</li>
<li>Funtoo system configuration, sourced from <code>gentoo</code> directory</li>
<li>The <code>#{RCUPDT}</code> commands in the <code>gary-os</code> package file, sourced from the<br><code>gentoo/sets</code> directory</li>
<li><p>Root password set to <code>gary-os</code></p>
<p>#WORKING:NOW: test make unpack when linux -&gt; linux-4.18.6-gentoo<br>#WORK actually, got a reset to defaults, now… only the *.tar.xz files remain…</p>
</li>
</ul>
<pre><code>#WORKING : validate
create/document &quot;reset&quot; option in &quot;\_release&quot;... manual changes are up to the reader...
need gpt/mbr partitions for below... maybe use the &quot;grub.sh&quot; script... otherwise, suggest the proper partitions...

#WORKING : document somewhere a mounted chroot build as a form of install... (man, am i getting too nuts, here?)
#WORKING : make install --reset == \_prepare\_config --reset || \_prepare\_config
</code></pre><p>Instructions for installing to disk:</p>
<pre><code>#WORKING : or use &quot;grub.sh&quot;
</code></pre><ol>
<li>Mount formatted disk/partition.<ul>
<li>e.g. <code>mke2fs -t ext4 -jv /dev/sda2</code></li>
<li>e.g. <code>mount /dev/sda2 /mnt</code></li>
</ul>
</li>
<li>If you wish for <code>/boot</code> to be on a separate partition, mount that<br>location in the target.<ul>
<li>e.g. <code>mkdir /mnt/boot</code></li>
<li>e.g. <code>mount /dev/sda1 /mnt/boot</code><br>#WORKING : now we have “make install”… warning, though, because it resets the configs on the live system… (the only way around this is horrifying)</li>
</ul>
</li>
<li><p>Copy in-memory filesystem to installation target.</p>
<ul>
<li><p>e.g. …</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rsync -avv \</span><br><span class="line">    --filter=-_/dev/** \</span><br><span class="line">    --filter=-_/mnt/** \</span><br><span class="line">    --filter=-_/proc/** \</span><br><span class="line">    --filter=-_/run/** \</span><br><span class="line">    --filter=-_/sys/** \</span><br><span class="line">    / /mnt</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Add necessary partition information to <code>/etc/fstab</code>, remembering an<br>entry for <code>/boot</code> if using a separate partition from #2 above.</p>
<ul>
<li>e.g. <code>vi /mnt/etc/fstab</code><br>#WORKING : use “grub.sh”, now…<br>#WORK need “grub” when “boot-update” here?</li>
</ul>
</li>
<li>Update and install Grub, to make the new installation bootable.<ul>
<li>e.g. <code>for FILE in dev proc sys ; do mount --bind /${FILE} /mnt/${FILE} ; done</code><br>#WORK efi: neet to mount efi partition to “/boot” for this to work…</li>
<li>e.g. <code>chroot /mnt grub-install --target=x86_64-efi --efi-directory=/boot /dev/sda</code></li>
<li>e.g. <code>chroot /mnt grub-install --target=i386-pc /dev/sda</code></li>
<li>e.g. <code>chroot /mnt boot-update</code></li>
</ul>
</li>
<li>Reboot into new installation, update <code>/etc/portage</code> configuration,<br>install Portage tree and update/install packages as desired.</li>
<li><strong>Don’t forget to change <code>/etc/conf.d/hostname</code> and update the <code>root</code><br>password!</strong></li>
</ol>
<hr>
<h1 id="Version_History"><a href="#Version_History" class="headerlink" title="Version History"></a>Version History</h1><pre><code>#WORK just before publishing release, make sure .setup/gentoo.gary-os mirrors the final github release directory

#WORKING

#WORK versioning scheme = 4.x is new commit, x.1 is update to existing commmit (rare)
#WORK make sure all &quot;\_&quot; are &quot;\&quot; escaped
#WORK switch as many lists as makes sense to tables...  verify that composer/github markdown render them... same with &quot;~~&quot;
#WORK change title from &quot;use cases&quot; to &quot;HOWTOs + Validation&quot;
#WORK build-witin-the build is &quot;Live Rebuild (Build-Within-The-Build)&quot; -&gt; must use same kernel, unpack happens automatically (does it really?)
#WORK add links pointing to the release tags/commits
#WORK holy crap!  stuff is getting big... gcc=x2 python=x3 linux-firmware=x5 (removed surf/wireshark/gvim/gtk...)... no added packages, and still XXXmb(?) bigger... rootfs about the same?
#WORK also, did add meta-repo.tar.xz and linux.tar.xz... is a true live system, but this only added ~130mb... vast majority came from above... check gary-os.packages.txt
#WORK kernel tmpfs hack to squeeze into 4gb ram... probably want 6gb to do anything beyond the basics... (xorg can still work...)
#WORK    add kernel hack diff publish to upstream tw task... add published commit to &quot;acknowledgements&quot; section
#WORK use cases: put in better order, to be tested sequentially...  add details about release validation steps/process...  (this is how to get from windows to linux...)
#WORK        release steps... final dates i
#WORK    simple qemu boot test
#WORK        [Forensics + Recovery]
#WORK        [Networking Configuration]
#WORK        [Minimal X.Org GUI]
#WORK    qemu boot test, using windows.null.qcow2 as a snapshot of base windows
#WORK        [Windows Dual-Boot]
#WORK    still in windows.null.qcow2, format disk for usb drive
#WORK        [Grub Rescue]
#WORK        (USB INSTALL)
#WORK    still in windows.null.qcow2, boot from &quot;usb drive&quot; emulation
#WORK        [Live Update]
#WORK        (BUILD-WITHIN-THE-BUILD, PART 1 - BUILD) == tomsrtbt!
#WORK            can one &quot;make O=/ doit release&quot; within a running &quot;ramfs&quot;?  tee hee.
#WORK                yes!  do exactly this, with gary-os.base package set, and this is the minimal 4gb build...
#WORK            (how much memory does it take to do this?)
#WORK            may consider removing meta-repo.tar.xz and/or linux.tar.xz to save space, but won&apos;t be able to sub-build after that...
#WORK    still in windows.null.qcow2, boot from &quot;usb drive&quot; emulation into build-within-the-build
#WORK        (BUILD-WITHIN-THE-BUILD, PART 2 - RUN)
#WORK        [Installation, PART 1 - INSTALL)
#WORK    still in windows.null.qcow2, boot from &quot;usb drive&quot; emulation into install
#WORK        [Installation, PART 2 - RUN)
#WORK    still in windows.null.qcow2, boot from &quot;usb drive&quot; emulation after wiping grub somehow
#WORK        [PXE Boot, PART 1 - TEST GRUB RESCUE, BOOT INSTALLATION]
#WORK        [PXE Boot, PART 2 - GARYOS]
#WORK        (RESCUE INSTALLATION, USING GARYOS, AND BOOT TO RESCUED INSTALLATION
#WORK    ld: kernel image bigger than KERNEL_IMAGE_SIZE -&gt; initrd build, supported
#WORK        not hacking kernel, for good reason... see comments at the bottom of (kernel_source)/arch/x86/include/asm/page_64_types.h

#WORK random: feature request to funtoo for &quot;ego sync&quot; commit pinning... send funtoo.kits
#WORK random: feature request to linux kernel for &quot;SHMMAX (/2)&quot; value... create patch!
#WORK random: todo list: add real argument processing to &quot;system&quot; script someday...
</code></pre><pre><code>#WORKING: XX-XX, here, title, and table of contents
</code></pre><pre><code>#WORKING: where do these links go?
</code></pre><h2 id="2019-XX-XX_v4-0_776f16598dac814dee59f95a1e21cefe6c612a02-0"><a href="#2019-XX-XX_v4-0_776f16598dac814dee59f95a1e21cefe6c612a02-0" class="headerlink" title="2019-XX-XX v4.0 776f16598dac814dee59f95a1e21cefe6c612a02.0"></a>2019-XX-XX v4.0 776f16598dac814dee59f95a1e21cefe6c612a02.0</h2><ul>
<li>Files: <a href="https://github.com/garybgenett/gary-os/blob/v4.0/README.md" target="_blank" rel="external">Readme</a>, <a href="https://github.com/garybgenett/gary-os/blob/v4.0/LICENSE.md" target="_blank" rel="external">License</a>, <a href="https://github.com/garybgenett/gary-os/blob/v4.0/_packages" target="_blank" rel="external">Packages</a><ul>
<li>Kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.kernel" target="_blank" rel="external">gary-os-generic_64-v4.0.kernel</a></li>
<li>Grub: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-v4.0.grub.zip" target="_blank" rel="external">gary-os-generic_64-v4.0.grub.zip</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v4.0/stage3-core2_64-funtoo-current-2018-08-27.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-current-2018-08-27.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v4.0/gary-os-generic_64-v4.0.meta-repo.tar.xz" target="_blank" rel="external">gary-os-generic_64-v4.0.meta-repo.tar.xz</a></li>
</ul>
</li>
<li>Major changes<ul>
<li>#WORKING: Replaced Metro with the same build system as the one for full installations</li>
<li>#WORKING: Completely switched to personal configuration</li>
<li>#WORKING: Removed 32-bit support (fewer builds)</li>
<li>#WORKING: Increased memory requirements</li>
<li>#WORKING: Added “minimal” binary?<br>#WORKING</li>
</ul>
</li>
<li>Funtoo configuration<br>#WORKING</li>
<li>Build system<br>#WORKING</li>
<li>Grub script<br>#WORKING</li>
</ul>
<h2 id="2015-03-16_v3-0_21811b59a8484b2a6b73e0c5277f23c50a0141dc-0"><a href="#2015-03-16_v3-0_21811b59a8484b2a6b73e0c5277f23c50a0141dc-0" class="headerlink" title="2015-03-16 v3.0 21811b59a8484b2a6b73e0c5277f23c50a0141dc.0"></a>2015-03-16 v3.0 21811b59a8484b2a6b73e0c5277f23c50a0141dc.0</h2><ul>
<li>Files: <a href="https://github.com/garybgenett/gary-os/blob/v3.0/README.md" target="_blank" rel="external">Readme</a>, <a href="https://github.com/garybgenett/gary-os/blob/v3.0/LICENSE.md" target="_blank" rel="external">License</a>, <a href="https://github.com/garybgenett/gary-os/blob/v3.0/_packages.64" target="_blank" rel="external">Packages (64-bit)</a>, <a href="https://github.com/garybgenett/gary-os/blob/v3.0/_packages.32" target="_blank" rel="external">Packages (32-bit)</a><ul>
<li>Kernel (64-bit): <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v3.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v3.0.kernel</a></li>
<li>Kernel (32-bit): <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v3.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v3.0.kernel</a></li>
<li>Grub: <a href="https://github.com/garybgenett/gary-os/blob/v3.0/scripts/grub.sh" target="_blank" rel="external">grub.sh</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v3.0/stage3-core2_64-funtoo-stable-2015-01-27.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2015-01-27.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v3.0/portage-21811b59a8484b2a6b73e0c5277f23c50a0141dc.0.tar.xz" target="_blank" rel="external">portage-21811b59a8484b2a6b73e0c5277f23c50a0141dc.0.tar.xz</a></li>
</ul>
</li>
<li>Metro/Grub scripts<ul>
<li>Release checklist in Metro script</li>
<li>General updates for upstream Metro changes/enhancements</li>
<li>Minor configuration updates for LVM, Postfix and Vim</li>
<li>Date variables for Funtoo/Grml upstream files/images</li>
<li>Warnings for non-matching upstream files/images</li>
<li>Miscellaneous syntax clean-up</li>
<li>Additional debugging option in Grub script</li>
<li>Updated list of Grub rescue modules</li>
<li>Grub rescue options variable</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Updated to new Portage commit</li>
<li>Minor improvements to audit/review scripting</li>
<li>Fixed <code>USE</code> variable, enabling Udev globally</li>
<li>Added additional input drivers, for touch devices</li>
<li>Added helper packages for networking and basic X.Org GUI scripting</li>
</ul>
</li>
</ul>
<h2 id="2014-06-19_v2-0_873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d-0"><a href="#2014-06-19_v2-0_873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d-0" class="headerlink" title="2014-06-19 v2.0 873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0"></a>2014-06-19 v2.0 873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0</h2><ul>
<li>Files: <a href="https://github.com/garybgenett/gary-os/blob/v2.0/README.md" target="_blank" rel="external">Readme</a>, <a href="https://github.com/garybgenett/gary-os/blob/v2.0/LICENSE.md" target="_blank" rel="external">License</a> , <a href="https://github.com/garybgenett/gary-os/blob/v2.0/_packages.64" target="_blank" rel="external">Packages (64-bit)</a>, <a href="https://github.com/garybgenett/gary-os/blob/v2.0/_packages.32" target="_blank" rel="external">Packages (32-bit)</a><ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v2.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v2.0.kernel</a></li>
<li>32-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v2.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v2.0.kernel</a></li>
<li>Grub: <a href="https://github.com/garybgenett/gary-os/blob/v2.0/scripts/grub.sh" target="_blank" rel="external">grub.sh</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v2.0/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v2.0/portage-873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0.tar.xz" target="_blank" rel="external">portage-873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0.tar.xz</a></li>
</ul>
</li>
<li>Metro/Grub scripts<ul>
<li>Added creation of package list files</li>
<li>Added <code>METRO_DEBUG</code> variable, for testing</li>
<li>Improved customization of <code>LDFLAGS</code> and <code>USE</code> variables</li>
<li>Better exemption handling for packages which fail to build</li>
<li>Fixed initrd build, so that it is more generally useful/applicable</li>
<li>Added documentation repository to commit tracking</li>
<li>Included Git repository in root filesystem, for reference</li>
<li>Moved Git repository handling to dedicated “git-export” function</li>
<li>Renamed example Grub disk image to a better extension</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Updated to new Portage commit</li>
<li>Complete review/revamp of USE flags</li>
<li>Added <code>LDFLAGS</code> variable options specific to Metro</li>
<li>Cleaned up “_overlay” directory</li>
<li>Improvements to audit/review scripting</li>
<li>Minor configuration updates/improvements</li>
<li>Localized failed package commenting to 32-bit</li>
<li>Revised package list, adding CLI (Command-Line Interface) helpers<br>and X.Org GUI, while pruning packages that are not as generally<br>useful or widely implemented<ul>
<li>In particular, removed custom Perl modules, Funtoo<br>developer/specialized packages, document processing utilities,<br>virtualization tools and media software</li>
<li>Previously, the X.Org GUI was a specific non-goal of the<br>project.  However, certain extremely useful packages (such as<br>Wireshark) required it.  The additional screen real-estate is<br>also useful for management of multiple terminals and<br>web-browsing for solutions to issues.  In order to meet these<br>needs, it was decided to incorporate X.Org GUI packages with<br>a minimal window manager footprint.</li>
<li>CLI interface remains the default (see <a href="#Graphical_Interface">Graphical Interface</a><br>section for information on loading up and using the graphical<br>environment).</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="2014-03-13_v1-1_95ad4fd257697618bae7402d4bc3a27499035d30-4"><a href="#2014-03-13_v1-1_95ad4fd257697618bae7402d4bc3a27499035d30-4" class="headerlink" title="2014-03-13 v1.1 95ad4fd257697618bae7402d4bc3a27499035d30.4"></a>2014-03-13 v1.1 95ad4fd257697618bae7402d4bc3a27499035d30.4</h2><ul>
<li>Files: <a href="https://github.com/garybgenett/gary-os/blob/v1.1/README" target="_blank" rel="external">Readme</a>, <a href="https://github.com/garybgenett/gary-os/blob/v1.1/LICENSE" target="_blank" rel="external">License</a><ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v1.1.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v1.1.kernel</a></li>
<li>32-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v1.1.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v1.1.kernel</a></li>
<li>Grub: <a href="https://github.com/garybgenett/gary-os/blob/v1.1/scripts/grub.sh" target="_blank" rel="external">grub.sh</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v1.1/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v1.1/portage-95ad4fd257697618bae7402d4bc3a27499035d30.4.tar.xz" target="_blank" rel="external">portage-95ad4fd257697618bae7402d4bc3a27499035d30.4.tar.xz</a></li>
</ul>
</li>
<li>Metro/Grub scripts<ul>
<li>Added Linux kernel configurations from Grml, to provide more<br>comprehensive and flexible hardware/feature support</li>
<li>Created Grub script, for rescue and dual-boot</li>
<li>Syntax and formatting clean-up</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Miscellaneous package changes</li>
</ul>
</li>
</ul>
<h2 id="2014-02-28_v1-0_95ad4fd257697618bae7402d4bc3a27499035d30-3"><a href="#2014-02-28_v1-0_95ad4fd257697618bae7402d4bc3a27499035d30-3" class="headerlink" title="2014-02-28 v1.0 95ad4fd257697618bae7402d4bc3a27499035d30.3"></a>2014-02-28 v1.0 95ad4fd257697618bae7402d4bc3a27499035d30.3</h2><ul>
<li>Files: <a href="https://github.com/garybgenett/gary-os/blob/v1.0/README" target="_blank" rel="external">Readme</a><ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v1.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v1.0.kernel</a></li>
<li>32-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v1.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v1.0.kernel</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v1.0/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v1.0/portage-95ad4fd257697618bae7402d4bc3a27499035d30.3.tar.xz" target="_blank" rel="external">portage-95ad4fd257697618bae7402d4bc3a27499035d30.3.tar.xz</a></li>
</ul>
</li>
<li>Metro script<ul>
<li>Completed support for both 64-bit and 32-bit builds</li>
<li>Switched to <code>generic</code> for all builds</li>
<li>Removed <code>-fomit-frame-pointer</code> GCC flag</li>
<li>Removed Grub customizations</li>
<li>Re-added <code>/boot</code> and <code>/var/db/pkg</code> directories, so the initramfs<br>can be used as a “stage3” replacement</li>
<li>Added release/distribution processing</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Commented packages that broke during 32-bit build</li>
</ul>
</li>
</ul>
<h2 id="2014-02-24_v0-3_95ad4fd257697618bae7402d4bc3a27499035d30-2"><a href="#2014-02-24_v0-3_95ad4fd257697618bae7402d4bc3a27499035d30-2" class="headerlink" title="2014-02-24 v0.3 95ad4fd257697618bae7402d4bc3a27499035d30.2"></a>2014-02-24 v0.3 95ad4fd257697618bae7402d4bc3a27499035d30.2</h2><ul>
<li>Files<ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.3.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.3.kernel</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v0.3/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v0.3/portage-95ad4fd257697618bae7402d4bc3a27499035d30.2.tar.xz" target="_blank" rel="external">portage-95ad4fd257697618bae7402d4bc3a27499035d30.2.tar.xz</a></li>
</ul>
</li>
<li>Metro script<ul>
<li>Consolidated kernel/initrd into single kernel/initramfs file</li>
<li>Added initial support for both 64-bit and 32-bit builds</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Updated build/installation script with code to expand Metro<br>“stage3” files for testing package builds and fixing breaks</li>
<li>Customized package list and USE flags for Metro build, to reduce<br>size of installation to below 500MB Linux kernel limit</li>
<li>Completely removed X, Java and TeX Live / LaTeX</li>
<li>Added sound and miscellaneous media packages</li>
</ul>
</li>
</ul>
<h2 id="2014-02-13_v0-2_95ad4fd257697618bae7402d4bc3a27499035d30-1"><a href="#2014-02-13_v0-2_95ad4fd257697618bae7402d4bc3a27499035d30-1" class="headerlink" title="2014-02-13 v0.2 95ad4fd257697618bae7402d4bc3a27499035d30.1"></a>2014-02-13 v0.2 95ad4fd257697618bae7402d4bc3a27499035d30.1</h2><ul>
<li>Files<ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.2.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.2.kernel</a></li>
<li>64-bit initrd: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.2.initrd" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.2.initrd</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v0.2/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v0.2/portage-95ad4fd257697618bae7402d4bc3a27499035d30.1.tar.xz" target="_blank" rel="external">portage-95ad4fd257697618bae7402d4bc3a27499035d30.1.tar.xz</a></li>
</ul>
</li>
<li>Metro script<ul>
<li>Added revision handling</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Added packages from Grml and SystemRescueCD package lists</li>
<li>Enabled <code>gpm</code> USE flag</li>
</ul>
</li>
</ul>
<h2 id="2014-02-09_v0-1_95ad4fd257697618bae7402d4bc3a27499035d30-0"><a href="#2014-02-09_v0-1_95ad4fd257697618bae7402d4bc3a27499035d30-0" class="headerlink" title="2014-02-09 v0.1 95ad4fd257697618bae7402d4bc3a27499035d30.0"></a>2014-02-09 v0.1 95ad4fd257697618bae7402d4bc3a27499035d30.0</h2><ul>
<li>Files<ul>
<li>64-bit kernel: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.1.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.1.kernel</a></li>
<li>32-bit initrd: <a href="https://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.1.initrd" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.1.initrd</a></li>
<li>Source Stage3: <a href="https://sourceforge.net/projects/gary-os/files/v0.1/stage3-core2_64-funtoo-stable-2014-01-13.tar.xz" target="_blank" rel="external">stage3-core2_64-funtoo-stable-2014-01-13.tar.xz</a></li>
<li>Source Portage: <a href="https://sourceforge.net/projects/gary-os/files/v0.1/portage-95ad4fd257697618bae7402d4bc3a27499035d30.0.tar.xz" target="_blank" rel="external">portage-95ad4fd257697618bae7402d4bc3a27499035d30.0.tar.xz</a></li>
</ul>
</li>
<li>Metro script<ul>
<li>Initial proof of concept, with separate kernel/initrd files</li>
</ul>
</li>
<li>Funtoo configuration<ul>
<li>Active personal configuration at time of build</li>
<li>Commented packages that broke</li>
</ul>
</li>
</ul>
<hr>
<h1 id="Release_Process_+_Checklist"><a href="#Release_Process_+_Checklist" class="headerlink" title="Release Process + Checklist"></a>Release Process + Checklist</h1><p>[Release Process +_Checklist]: #Release Process + Checklist</p>
<pre><code>#WORKING
</code></pre><hr>
<p><em>End Of File</em></p>
<!-- WORK
    #WORK
# * final run to standardize https/http
# * running list of gary-os service dependencies; automated tests?
#    * ftp/external
#    * shell utils
#    * smbd
#    * start using "_toor" to validate
#        * rsync ".runit", "wtmp", etc.
    #WORK
#    * port "metro.sh" script command(s) into here
#        * update -2 to be the init/hostname/passwords and add "emerge --depclean --with-bdeps=n"
#        * use custom kernel, and get rid of grml (readme, acknoledge kernel config and package lists)
#        * use formal release filenames insteaed of "_ramdisk"
#        * add ramdisk and release optiosn, so that metro.sh "-/" (now "-2"), "-1" and "-!" are all separate; what to do with "-! -!" option?
#    * document meta-repo ".git" dir handling
#    * update ram requiresments to 8b minimum, packages have gotten fat!
#        * need more room in root filesystem, and memory could easily be just 6gb; need to do some kernel configuration tuning...
#        * speaking of the kernel and ramdisk, can we get a status/progress indicator in there... "cpio -v"...?
#        * double-check updates in package list, just to be sure it is normal cruft; compare sizes of openbox/dwm and firefox/surf?
#            * /lib/modules/4.14.12-2 directory?  get rid of this!
#        * prompt -d -x ; qemu-minion.bsh /.g/_toor/_ramfs.kernel "" -m 8192 -vga std
#            * why is "startx" not working?
#    * did you know that if you run "[chroot]" with no other options it will do an update?  we should kill this or document it...
#    * Makefile, _system and _release all need to stay in sync...!
    #WORK
#    * systemrescuecd package list: extract to "sets" directory, and comparison
#    * EFI commands/notes, and grub.sh
#        * https://kernel.org/doc/Documentation/efi-stub.txt
#        * https://wiki.archlinux.org/index.php/EFISTUB#Booting_EFISTUB
    #WORK
#    * release process:
#        * metro
#            * ~/setup/gentoo/_system -q -g -y
#                * ~/setup/gentoo/_system -q -g -y -j {package}
#            * ~/setup/gentoo/_system -q -g -y -j
#        * packages
#            * ~/setup/gentoo/_system -q -x -y -j
    #WORK
#    * document qemu boot time (and system cpu/memory) each release
#    * note about adding qemu/kvm scripts (probably qemu deserves mention as a project after all...
    #WORK
#    * make fetch -> create dynamic fetchlist from _ramfs.packages.txt, $WGET_C from sourceforge
#        * test/add build instructions using files from sourceforge
    #WORK
    #WORK finalize
    #WORK release process note to do a "make -f /.g/_data/zactive/.setup/gentoo.gary-os/Makefile L=_gary-os doit" run, to get all those packages built in the \_packages directory
    #WORK release process a final pass "make -f /.g/_data/zactive/.setup/gentoo.gary-os/Makefile doit" run, to remove binaries but keep the distfiles and packages
    #WORK release process note or automation to delete *.cpio{,.dir,.txt}
    #WORK before doing first "_release" run of any sort, verify "system installation" table of modified files
    #WORK do htop -> f5 to verify process tree during test cases validation
    #WORK _gary-os.boot symlink ++ _sync boot
#- release checklist:
#    * build
#        * [complete all commits in ".setup", ".static" and "coding"]
#            * rm /.g/_data/_build/_metro/funtoo-*/*/*/*/stage3-*
#        * metro.sh -! ++ (echo | metro.sh 32 0) ++ (echo | metro.sh 64 0)
#            * qemu-minion.bsh /.g/_data/_builds/_metro/stage3-generic_32-*.kernel "" -append nomodeset
#            * qemu-minion.bsh /.g/_data/_builds/_metro/stage3-generic_64-*.kernel "" -append nomodeset
#        * cd /.g/_data/_builds/_metro ++ cat _commit
#            * [verify with "git-list" in each repository]
#        * cd /.g/_data/_builds/.gary-os/.gary-os ; vdiff -g v#.#
#            * [COMMIT] Added "v#.#" release to "Version History" in "README".
#            * [COMMIT] Tested/validated/updated "Use Cases" with "v#.#" version.
#    * commit
#        * cd /.g/_data/_builds/_metro ++ git-backup <version>
#        * [update "$RELEASE" and "$CMTHASH" in "metro.sh"]
#        * metro.sh -! ++ (echo | metro.sh 32 0) ++ (echo | metro.sh 64 0)
#        * cd /.g/_data/_builds/_metro ++ git-commit --all --amend --no-edit
#            * [COMMIT] (RELEASE:########################################.#) (tag: v#.#)########
#        * [update/commit "$RELEASE" and "$CMTHASH" in "metro.sh"]
#            * [COMMIT] Added new release to version tags in "metro.sh".
#    * release
#        * ls /.g/_data/_builds/.gary-os/metro.gitlog/cur | tail -n1
#            * rm /.g/_data/_builds/.gary-os/metro.gitlog/cur | tail -n[<result>
#        * cd /.g/_data/_builds/.gary-os/.gary-os ++ git-list
#            * git reset --hard HEAD^1
#        * metro.sh -! -!
    #WORK
WORK -->
<!-- WORK

    * readme.md (needs to be in release process...)
        * all work markers
        * rewrite
        * test cases
        * review/edit, spell check and "f11/gq" formatting
        * verify composer/pandoc (toc=6) and github

    * release
        * complete run of both
            * gentoo, comment haskell-updater
            * gary-os, uncomment haskell-updater, all repositories clean
        * commit gentoo
            * verify use_garyos/package.use against _gentoo/.emerge (+sorted properly = globals / updated or package use)
            * _sync _sys _clone _full _setup on spider/shadow
        * [\_gary-os] package set instructions/notes, move to readme instead?
        * _publish git
            * .validate
        * updated screenshots
        * release process for gary-os
            * make clean release
            * remove *.cpio{,.dir} = keep only *.{txt,xz}
            * commit
            * _publish, new version and hash
            * _publish, verify github and sourceforge (links are all working)
            * update sourceforge download button

    * announcement email

    * Celebrate!

WORK -->

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.garybgenett.net/writing/gary-os/index.html" data-id="ck2xtgvij000gpnj5grn1qc81" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Latest</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/11/README/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  
    

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">History</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Gary B. Genett<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br /><br /> <a rel="author" href="http://www.garybgenett.net">					<img src="http://www.garybgenett.net/favicon.png"					alt="Gary B. Genett"	style="border:0; width:31px; height:31px;"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/">	<img src="http://i.creativecommons.org/l/by-nc-nd/3.0/us/88x31.png"			alt="CC License"	style="border:0; width:88px; height:31px;"/></a> <a href="http://validator.w3.org/check/referer">					<img src="http://www.w3.org/Icons/valid-xhtml11-blue"					alt="Valid HTML"	style="border:0; width:88px; height:31px;"/></a> <a href="http://jigsaw.w3.org/css-validator/check/referer">				<img src="http://www.w3.org/Icons/valid-css2-blue"					alt="Valid CSS"	style="border:0; width:88px; height:31px;"/></a> <br /> <a href="https://github.com/garybgenett/composer">					<img src="https://raw.githubusercontent.com/garybgenett/composer/devel/icon.png"	alt="Composer"	style="border:0; width:31px; height:31px;"/></a> <a href="http://www.vim.org">								<img src="http://www.vim.org/images/vim_small.gif"					alt="Vim"		style="border:0; width:31px; height:31px;"/></a> <a href="http://git-scm.com">								<img src="https://git.wiki.kernel.org/images-git/d/df/FrontPage%24git-logo.png"	alt="Git"		style="border:0; width:72px; height:27px;"/></a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/resume.html" class="mobile-nav-link">Resume</a>
  
    <a href="/projects" class="mobile-nav-link">Projects</a>
  
    <a href="/writing" class="mobile-nav-link">Writing</a>
  
    <a href="/archives" class="mobile-nav-link">History</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>